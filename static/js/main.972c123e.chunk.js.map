{"version":3,"sources":["components/multi-lang/PreLangBasenameContext.ts","components/multi-lang/LangRouter.tsx","translations.ts","components/multi-lang/ChangeLangLink.tsx","components/Header/languages.tsx","components/Header/en-us.png","components/Header/jp.png","components/Header/ko.png","components/Header/logo-white.svg","services/ApiContext.ts","components/App/ThemeProvider.tsx","components/App/App.theme.ts","components/Header/links.ts","components/Header/MenuPopup.tsx","components/Header/Header.tsx","components/VoteChip/VoteChip.tsx","pages/RewardsPage/DelegationInfoTable.tsx","pages/RewardsPage/RewardsTable.tsx","components/structure/Page.tsx","components/structure/PageSection.tsx","cryptoUtils/unitConverter.ts","components/tables/TableIcons.tsx","pages/RewardsPage/RewardsHistoryTable.tsx","pages/RewardsPage/rewardsPageHooks.ts","pages/RewardsPage/rewardsPageStaticHooks.ts","pages/RewardsPage/RewardsPage.tsx","components/ReadOnlyBanner/readOnlyBannerHooks.tsx","components/Main/Main.tsx","components/App/App.tsx","config.ts","services/OrbsClientFactory.ts","services/RemoteService.ts","services/MetamaskService.ts","services/contracts.ts","services/v2/orbsNodeService/nodeResponseProcessing/helpers.ts","services/v2/orbsNodeService/systemState.ts","services/v2/orbsNodeService/nodeResponseProcessing/url-generator.ts","services/v2/orbsNodeService/nodeResponseProcessing/processor-public.ts","services/v2/orbsNodeService/OrbsNodeService.ts","Store/storesInitialization.ts","components/App/AppWrapper.tsx","services/Services.ts","index.tsx","contracts-info.js"],"names":["PreLangBasenameContext","React","createContext","PreLangBasenameProvider","Provider","Consumer","LangRouter","children","resources","preLangBasename","i18n","use","initReactI18next","init","lng","keySeparator","interpolation","escapeValue","setupI18n","forcedLang","langMatch","window","location","pathname","match","getForcedLanguage","langBaseName","language","changeLanguage","navigatorLang","navigator","split","languages","indexOf","I18nextProvider","value","basename","jp","translation","fontFamily","delegateMessage","Vote","Add","Check","Close","Delegate","Name","Address","Website","Home","Guardians","Validators","Rewards","Delegators","Explore","Submit","Stake","Yes","No","Distributed","Amount","Cancel","text_delegatorDescriptionMain","text_delegatorDescriptionTetra","linkText_tetraWalletTutorial","message_orbsWillTransitionToV2On","message_toChangeDelegationsUseV1Tetra","concept_tetraV1","message_orbsHasTransitionedToV20On","message_thisPageDisplaysSnapshotData","delegatorNonStakedOrbs","delegatorStakedOrbs","alert_stakingWithoutGuardian","alert_delegatingToNonGuardian","alert_notParticipating","action_goToTetra","action_youCanStakeYourORBSAndSelectAGuardianWithTetra","text_tetraName","en","ko","addLangToCurrentLocation","lang","langRegexp","replace","ChangeLangLink","useLocation","useContext","href","Languages","withStyles","list","padding","margin","display","listStyle","justifyContent","item","paddingInlineStart","opacity","classes","className","src","alt","ApiContext","useApi","ThemeProvider","t","useTranslation","theme","responsiveFontSizes","createMuiTheme","palette","type","primary","main","secondary","background","default","paper","typography","overrides","MuiTypography","body1","fontWeight","h4","MuiTableCell","body","links","useLinkDescriptors","useMemo","map","link","url","label","translationKey","useStyles","makeStyles","menuButton","spacing","width","color","transition","HOVER_COLOR","MenuPopup","memo","props","linkDescriptors","console","log","useBoolean","setFalse","setTrue","useState","anchorEl","setAnchorEl","handleClick","useCallback","event","currentTarget","handleClose","menuItemLinks","idx","MenuItem","onClick","Link","component","NavLink","exact","activeStyle","underline","to","variant","noWrap","id","undefined","IconButton","aria-label","Popover","open","onClose","anchorOrigin","vertical","horizontal","transformOrigin","appBar","paddingTop","paddingBottom","boxSizing","height","zIndex","drawer","logo","nav","flexWrap","toolbar","paddingRight","paddingLeft","maxWidth","headerButtonsContainer","alignItems","displayInMetamaskButton","marginRight","movedDown","marginLeft","Header","metamask","useTheme","smallerThanSmall","useMediaQuery","breakpoints","down","menuLinks","menu","AppBar","position","classNames","data-testid","Button","size","displayOrbsInMetamask","Toolbar","VoteChip","yesChip","backgroundColor","green","noChip","red","Chip","DelegationInfoTable","delegatorAddress","delegatorInfo","delegatorStakingInfo","guardianInfo","isAGuardian","delegatedTo","delegationBlockNumber","delegationTimestamp","timestamp","delegatorBalance","toLocaleString","delegationType","Date","hour12","timeZone","timeZoneName","year","month","day","hour","minute","second","contentCellAlignment","TableContainer","Table","TableBody","TableRow","TableCell","align","Typography","style","textOverflow","whiteSpace","overflow","stakedOrbs","voted","hasEligibleVote","RewardsTable","rewardsSummary","delegatorReward","guardianReward","validatorReward","totalReward","TableFooter","page","Page","PageSection","section","overflowX","justifyItems","others","fullOrbsFromWeiOrbs","weiOrbs","parseInt","web3","utils","fromWei","toString","TABLE_ICONS","forwardRef","ref","Clear","Delete","DetailPanel","Edit","Export","Filter","FirstPage","LastPage","NextPage","PreviousPage","ResetSearch","Search","SortArrow","ThirdStateCheck","ViewColumn","RewardsHistoryTable","distributionsHistory","totalAmount","reduce","prev","cur","amount","COLUMNS","title","field","render","data","target","rel","transactionHash","components","Container","containerProps","Body","icons","columns","options","headerStyle","search","showTitle","paging","emptyCompleteAddressInfoForRewardsPage","hasActiveDelegation","delegatingToValidGuardian","stakingInfo","website","name","stakePercent","useHasActiveDelegation","address","useQuery","fetch","then","res","a","json","jsonRes","isLoading","error","includes","useIsDelegatingToValidGuardian","useStaticDelegatorInfo","useStaticDistributionHistory","useStaticGuardianInfo","useStaticRewardsSummary","useStaticStakingInfo","form","flexDirection","input","submit","marginTop","alert","RewardsPage","observer","useQueryParam","StringParam","queryAddress","setQueryAddress","formAddress","setFormAddress","submitHandler","completeAddressDataFromStatic","distributionHistory","clonedData","useCompleteAddressInfoForRewardsPageFromStaticData","useEffect","asyncInnerFunction","addressData","relevantGuardianInfo","tetraUrl","toChangeDelegationPleaseUseTetraV1InnerHtml","tetraLink","renderToString","gutterBottom","FormControl","TextField","required","placeholder","onChange","ev","dangerouslySetInnerHTML","__html","actionBuilder","closeSnackbar","key","content","Main","hasMetamask","isNoMetamaskBannerOpen","useSnackbar","enqueueSnackbar","autoHideDuration","action","useNoMetaMaskSnackbar","path","rootApp","backgroundRepeat","backgroundImage","backgroundAttachment","backgroundPosition","minHeight","headerSeparator","glass","top","left","glassLabel","blurred","filter","App","process","ReactRouterRoute","Route","maxSnack","CssBaseline","configsObject","orbsAuditNodeEndpoint","ETHEREUM_PROVIDER_WS","contractsAddressesOverride","earliestBlockForDelegationOverride","v2ContractsAddressesOverride","REACT_APP_ETHEREUM_NETWORK","addresses","require","stakingRewardsContactAddress","stakingRewards","configs","ORBS_VIRTUAL_CHAIN_ID","ORBS_NODE_URL","RemoteService","remoteAddress","params","config","axios","get","this","callRemote","limit","offset","MetamaskService","validatorsRegistryContract","guardiansContract","votingContract","eth","Contract","validatorsRegistryContractJson","abi","contractsInfo","validatorsRegistryContractFactory","guardiansContractJson","guardiansContractFactory","votingContractJson","votingContractFactory","ethereum","sendAsync","method","symbol","decimals","image","formatted","Address4","toHex","join","enable","err","Promise","reject","enableMetamask","candidate","from","methods","delegate","send","validators","voteOut","info","registrationDepositWei","call","requiredDeposit","isGuardian","ipAddress","orbsAddress","ipHex","ipAddressToBytes","isValidator","getCurrentVote","getCurrentClockTime","Math","round","getTime","fetchJson","retry","response","text","JSON","parse","Error","retries","delay","HealthLevel","SystemState","TimeSeconds","Timestamp","VirtualChains","Services","CommitteeNodes","StandByNodes","Service","ServiceUrlName","RepositoryPrefix","VC","Boyar","Signer","EthereumWriter","Management","generateVirtualChainUrls","vcId","Prism","Subscription","NetworkType","generateNodeManagmentUrl","ip","defaultConfiguration","Port","ProcessorPollTimeSeconds","Public","RootNodeEndpoint","StaleStatusTimeSeconds","ExpirationWarningTimeInDays","updateSystemState","systemState","rootNodeData","currentTimestamp","virtualChainList","_","Payload","CurrentVirtualChains","vcData","expirationTime","isNumber","Expiration","healthLevel","Green","healthLevelToolTip","Yellow","referenceTimeSeconds","differenceSeconds","currentTime","isString","valueOf","isStaleTime","Red","Id","IsCanary","RolloutGroup","IsCertified","IdentityType","GenesisTimeSeconds","GenesisRefTime","ExpirationTimeSeconds","SubscriptionStatus","SubscriptionStatusToolTip","VirtualChainUrls","readVirtualChains","services","guardians","mapValues","guardianData","Ip","EthAddress","ensureAddressStartsWithPrefix","EffectiveStake","OrbsAddress","NodeManagementURL","NodeVirtualChains","NodeServices","NodeReputation","NodeVirtualChainReputations","NodeVirtualChainBadReputations","ReputationStatus","ReputationToolTip","RegistrationTime","DistributionFrequency","extractDistributionFrequency","ParticipationPercentage","calculateParticipationPercentage","CommitteeEvents","Capacity","calculateCapacity","DelegatedStake","SelfStake","extractGuardians","committeeMembersAddresses","CurrentCommittee","committeeMembers","pick","standbyMembersAddresses","CurrentCandidates","IsStandby","standByMembers","toISOString","ethAddress","startsWith","manuallySetValue","Metadata","guardianAddress","committeeEvents","earliestRefTime","eventsFromLast30Days","committeeEvent","RefTime","firstEvent","totalTime","length","participationTime","i","Committee","committeeMember","toLowerCase","previousCommitteeEvent","toFixed","MAIN_NET_DEFAULT_NODE_URL","OrbsNodeService","defaultNodeUrl","checkIfNodeIsInSync","nodeAddress","fetchNodeManagementStatus","managementStatusResponse","fetchNodeEthereumWriterStatus","ethereumWriterStatusResponse","isEthereumWriterInSync","VchainSyncStatus","Moment","unix","earliestAcceptedTimestamp","nodeRefTime","CurrentRefTime","isNodeInSync","nodeUrl","currentTimeStamp","floor","now","configure","enforceActions","ethereumProvider","remoteService","stakingService","StakingService","stakingContract","orbsClient","createAccount","publicKey","privateKey","signer","LocalSigner","Client","NETWORK_TYPE_TEST_NET","BuildOrbsClient","orbsClientService","OrbsClientService","orbsRewardsService","OrbsRewardsService","guardiansService","GuardiansService","earliestBlockForDelegation","orbsNodeService","stakingRewardsService","StakingRewardsService","buildServices","Web3","providers","WebsocketProvider","stores","AppWrapper","queryCache","StylesProvider","injectFirst","ReactDOM","document","getElementById","module","exports","EthereumGuardiansContract","EthereumValidatorsContract","EthereumValidatorsRegistryContract","EthereumVotingContract","OrbsVotingContract"],"mappings":"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","file":"static/js/main.972c123e.chunk.js","sourcesContent":["/**\n * Copyright 2019 the orbs-ethereum-contracts authors\n * This file is part of the orbs-ethereum-contracts library in the Orbs project.\n *\n * This source code is licensed under the MIT license found in the LICENSE file in the root directory of this source tree.\n * The above notice should be included in all copies or substantial portions of the software.\n */\n\nimport React from 'react';\n\nexport const PreLangBasenameContext = React.createContext('');\nexport const PreLangBasenameProvider = PreLangBasenameContext.Provider;\nexport const PreLangBasenameConsumer = PreLangBasenameContext.Consumer;\n","/**\n * Copyright 2019 the orbs-ethereum-contracts authors\n * This file is part of the orbs-ethereum-contracts library in the Orbs project.\n *\n * This source code is licensed under the MIT license found in the LICENSE file in the root directory of this source tree.\n * The above notice should be included in all copies or substantial portions of the software.\n */\n\nimport React from 'react';\nimport { I18nextProvider } from 'react-i18next';\nimport { BrowserRouter as Router } from 'react-router-dom';\nimport i18n, { Resource } from 'i18next';\nimport { PreLangBasenameProvider } from './PreLangBasenameContext';\nimport { initReactI18next } from 'react-i18next';\n\nfunction getForcedLanguage() {\n  const langMatch = window.location.pathname.match(/\\/(en|ko|jp)\\//);\n  return langMatch ? langMatch[1] : '';\n}\n\nfunction setupI18n(resources: Resource) {\n  i18n\n    .use(initReactI18next) // passes i18n down to react-i18next\n    .init({\n      resources,\n      lng: 'en',\n      keySeparator: false, // we do not use keys in form messages.welcome\n      interpolation: {\n        escapeValue: false, // react already safes from xss\n      },\n    });\n}\n\ninterface IProps {\n  preLangBasename?: string;\n  resources: Resource;\n}\n\nexport const LangRouter: React.FC<IProps> = ({ children, resources, preLangBasename = '' }) => {\n  setupI18n(resources);\n  const forcedLang = getForcedLanguage();\n  let langBaseName = '';\n  if (forcedLang) {\n    langBaseName = `/${forcedLang}/`;\n    if (i18n.language !== forcedLang) {\n      i18n.changeLanguage(forcedLang);\n    }\n  } else {\n    const navigatorLang = navigator.language.split('-')[0];\n    if (i18n.languages.indexOf(navigatorLang) > -1) {\n      if (i18n.language !== navigatorLang) {\n        i18n.changeLanguage(navigatorLang);\n      }\n    }\n  }\n\n  return (\n    <I18nextProvider i18n={i18n}>\n      <PreLangBasenameProvider value={preLangBasename}>\n        <Router basename={`${preLangBasename}${langBaseName}`}>{children}</Router>\n      </PreLangBasenameProvider>\n    </I18nextProvider>\n  );\n};\n","import i18n, { Resource } from 'i18next';\n\nexport const resources: Resource = {\n  jp: {\n    translation: {\n      fontFamily: 'Meiryo,Hiragino Kaku Gothic ProN,MS PGothic,sans-serif',\n      delegateMessage: '手動で他のガーディアンに委任したいですか？<1>ここ</1>をクリック',\n      'Participation Instructions Content1':\n        'Orbsのユニークな特徴の一つは、ネットワークの管理を他の分散型ネットワーク上で実行しているという点です。この設計があるがため、ネットワークオペレータが自分自身に投票することを防止することができます。これらの権限の分離は、すべてのPoSの投票と委任に外部から分散された保証を提供することに繋がります。',\n      'Participation Instructions Content2':\n        'これを実現するために、ガーディアンへの投票権委任と、ガーディアンによるバリデータの投票は、標準イーサリアムウォレットを用いたイーサリアムネットワーク上のスマートコントラクトに管理されます。',\n      'Guardians Description':\n        '誰でもガーディアンになってバリデータに投票することができます。ガーディアンは、バリデータを評価し、ノード操作を監視し、ネットワークの監査を実行する重要な役割を担っています。ガーディアンになることは、責任と努力が必要です。',\n      'Validators Description':\n        'バリデータは、Orbsネットワークの運営者です。ブロックの生成と検証に参加し、ブロックの履歴とネットワークの正常運営を遂行してくれます。バリデータは、専門的スキルをもち、ノードのセキュリティを維持するための高水準のサービスを提供することができる能力と接続性を要求されます。',\n      'Manual Delegation Description':\n        '誰にでも委任することができます。委任された者は、最終的に自分自身と委任者のステークをガーディアンに委任する必要があります。有効なガーディアンに委任した場合にのみ報酬が支払われます。',\n      'Your vote has not been delegated yet.': '委任が完了していません。',\n      'Your vote has been delegated to': 'こちらのガーディアンに委任済み',\n      'Delegate Ethereum Address': '委任したいガーディアンのアドレス',\n      Vote: '投票',\n      'Check delegation status': '委任状況の確認',\n      'Check your delegation status': '委任状況の確認',\n      'Your name': 'あなたの名前',\n      'Your website': 'あなたのウェブサイト',\n      Add: '追加',\n      'Your IP Address': 'あなたのIPアドレス',\n      'Your Orbs Address': 'あなたのOrbsアドレス',\n      'Enter your address in order to check to whom your stake is delegated.':\n        'お持ちのアドレスをご入力いただくと、誰に委任しているかが確認できます。',\n      Check: '確認',\n      Close: '閉じる',\n      'Guardians List': 'ガーディアンリスト',\n      'Next election round will take place at Ethereum block': '次回の投票実施時のイーサリアムブロック',\n      'Participating stake': '全体ステーキング参加量',\n      Delegate: '委任する',\n      Name: '名前',\n      Address: 'アドレス',\n      Website: 'ウェブサイト',\n      '% in last election': '前回選挙時のシェア（%）',\n      'Voted for next elections': '次回選挙への参加権利',\n      'Vote Out': '反対票の投票',\n      'Keep everyone': '全員をキープ',\n      'Guardian did not vote before': '過去に投票しなかったガーディアン',\n      'Validators List': 'バリデータリスト',\n      'Become a guardian': 'ガーディアンになる',\n      'Your most recent vote was against': '最新の投票での反対票',\n      'You have not voted yet': '投票が完了していません',\n      Home: 'ホーム',\n      Guardians: 'ガーディアン',\n      Validators: 'バリデータ',\n      'Elected Validators': '選出されたバリデータ',\n      Rewards: 'リワード',\n      Delegators: 'デリゲータ',\n      'Delegating using Metamask': 'Metamaskを使って委任',\n      'Delegating by sending 0.07 ORBS directly': '0.07ORBSを送信して委任',\n      'Delegating using MyCrypto': 'MyCryptoを使って委任',\n      'Becoming a Guardian': 'ガーディアンになる',\n      'Voting using MyCrypto': 'MyCryptoを使って委任',\n      'Becoming a Validator': 'バリデータになる',\n      Explore: '詳細',\n      'Participation Instructions': '参加方法',\n      'Delegated To': '委任先',\n      'Guardian voted in previous elections': '前回選挙に投票したガーディアン',\n      'Guardian voted for next elections': '次回選挙に投票したガーディアン',\n      'Delegation method': '委任方法',\n      'Delegation timestamp': '委任タイムスタンプ',\n      'Delegation block number': '委任ブロック番号',\n      'Rewards & Delegation Info': 'リワードと委任情報',\n      'Enter the address': 'アドレスを入力',\n      Submit: '確認',\n      'Delegation Details': '委任の詳細',\n      'The information above corresponds to elections at block number': '上記の情報は、次回の選挙時のブロック番号：',\n      'Delegator Reward': 'デリゲータリワード',\n      'Guardian Excellency Reward': 'トップガーディアンリワード',\n      'Validator Reward': 'バリデータリワード',\n      'Total Reward': '合計リワード',\n      'Become a validator': 'バリデータになる',\n      'Ethereum Address': 'イーサリアムアドレス',\n      'Orbs Address': 'Orbsアドレス',\n      Stake: 'ステーク',\n      Yes: 'Yes',\n      No: 'No',\n      Distributed: '配布済み',\n      'Distribution Event': '配布イベント',\n      'Transaction Hash': '取引情報',\n      Amount: '数量',\n      'Total Distributed': '総配布量',\n      \"Delegator's ORBS Balance\": 'デリゲータのORBS保有数',\n      'Last election votes against (%)': '前回投票時の反対票（%）',\n      'Manually Delegate Your Stake': '手動でステークを委任する',\n      Cancel: 'キャンセル',\n      'Display ORBS in metamask': 'ORBSをメタマスクに表示',\n\n      // *************************\n      // Well formatted messages\n      // *************************\n\n      // Participation\n      text_delegatorDescriptionMain:\n        'ORBSトークン保有者は、任意で信頼するガーディアンに投票権を委任することで、Orbsユニバースに参加できます。より多くの方が参加することで、ネットワークの安全性が担保されます。初期設定がされれば、あとは自動的に委任の効力が継続します。',\n      text_delegatorDescriptionTetra:\n        'TETRAはOrbs独自のステーキング・ウォレットで、ORBSトークン保有者が簡単にガーディアンを選択肢、ステーキングできるように設計されています。',\n      linkText_tetraWalletTutorial: 'Tetraウォレットのガイド',\n\n      // Rewards page\n      // TODO : TRANSLATIONs : ADD\n      message_orbsWillTransitionToV2On: 'Orbs will transition to V2 on Nov 30',\n      message_toChangeDelegationsUseV1Tetra: 'To change your V1 Delegation please use {{tetraLink}}',\n      concept_tetraV1: 'Tetra V1',\n      message_orbsHasTransitionedToV20On: 'Orbs had transitioned to V2 on November 30, 2020',\n      message_thisPageDisplaysSnapshotData: 'This page displays static data from the last snapshot of V1.',\n\n      // Rewards table\n      delegatorNonStakedOrbs: 'デリゲータの未ステーキングORBS',\n      delegatorStakedOrbs: 'デリゲータのステーキング済みORBS',\n\n      // Alerts\n      alert_stakingWithoutGuardian:\n        '注意：このアドレスは既にORBSをステーキングしていますが、まだガーディアンを選択していないため、リワードが発生していません',\n      alert_delegatingToNonGuardian:\n        'Warning - this address is delegating to an address that does not belong to a Guardian. No rewards will be accumulated',\n      alert_notParticipating: '通知：このアドレスにORBSは入っていますが、ステーキングされていません',\n      action_goToTetra: '{{tetraLink}}を参照',\n      action_youCanStakeYourORBSAndSelectAGuardianWithTetra:\n        'ORBSのステーキングとガーディアンの選択は{{tetraLink}}を参照',\n      text_tetraName: 'Tetra',\n    },\n  },\n  en: {\n    translation: {\n      fontFamily: 'Montserrat',\n      delegateMessage: 'Want to delegate manually to another address? Click <1>here</1>.',\n      'Participation Instructions Content1':\n        'One of the unique features of Orbs, is that the administration of the\\nnetwork’s institutes is performed on another decentralized network. With\\nthis architecture, we can avoid letting network operators execute the\\nprocedures for their own election. This separation of powers provides an\\nexternal decentralized guarantee to all PoS votes and delegations.',\n      'Participation Instructions Content2':\n        'To make this possible, delegation of voting power to guardians, and\\nvoting on validators by the guardians are managed by smart contracts on\\nthe Ethereum network using standard Ethereum wallets.',\n      'Guardians Description':\n        'Anyone can become an active Guardian and participate in the daily voting to approve Validators. Guardians are key players that review validators, monitor their operations and audit the network. Being a Guardian requires commitment and effort.',\n      'Validators Description':\n        'Validators run Orbs network. They participate in the block creation and validation and maintain the state and block history. Validators are skilled professionals, capable of maintaining their node security, availability and connectivity and providing the required quality of service.',\n      'Manual Delegation Description':\n        'You can delegate your stake to anyone. They will need to delegate\\ntheir own stake & your stake to a guardian. Only stake delegated to a\\nvoting guardian will be rewarded.',\n\n      // *************************\n      // Well formatted messages\n      // *************************\n\n      // Participation\n      text_delegatorDescriptionMain:\n        'As an ORBS token holder, it is your responsibility to participate in the Orbs Universe by delegating your voting power to a Guardian you trust. This contributes to the network security by making sure a trustworthy group of Validators is running the network. Delegation only needs to be performed once and remains valid unless modified to a different Guardian.',\n      text_delegatorDescriptionTetra:\n        'TETRA is Orbs’ dedicated staking wallet, from which any ORBS holder can easily stake tokens with a Guardian of their choice.',\n      linkText_tetraWalletTutorial: 'Tetra wallet Tutorial',\n\n      // Rewards page\n      message_orbsWillTransitionToV2On: 'Orbs will transition to V2 on Nov 30',\n      message_toChangeDelegationsUseV1Tetra: 'To change your V1 Delegation please use {{tetraLink}}',\n      concept_tetraV1: 'Tetra V1',\n      message_orbsHasTransitionedToV20On: 'Orbs had transitioned to V2 on November 30, 2020',\n      message_thisPageDisplaysSnapshotData: 'This page displays static data from the last snapshot of V1.',\n\n      // Rewards table\n      delegatorNonStakedOrbs: 'Delegator’s  non-staked ORBS',\n      delegatorStakedOrbs: 'Delegator’s staked ORBS',\n\n      // Alerts\n      alert_stakingWithoutGuardian:\n        'Warning - this address has staked ORBS but no selected Guardian. No rewards will be accumulated',\n      alert_delegatingToNonGuardian:\n        'Warning - this address is delegating to an address that does not belong to a Guardian. No rewards will be accumulated',\n      alert_notParticipating: 'Notice : This address has ORBS but none of them are staked',\n      action_goToTetra: 'Go to {{tetraLink}}',\n      action_youCanStakeYourORBSAndSelectAGuardianWithTetra:\n        'You can stake your ORBS and select a guardian with {{tetraLink}}',\n      text_tetraName: 'Tetra',\n    },\n  },\n  ko: {\n    translation: {\n      fontFamily: 'Montserrat',\n      delegateMessage: '직접 다른 주소로 위임하고 싶으신가요? <1>여기를</1> 클릭하세요.',\n      'Participation Instructions Content1':\n        'Orbs의 고유 기능 중 하나는, 네트워크 기관 관리가 다른 탈중앙 네트워크에서 수행된다는 점입니다. 이 설계를 바탕으로, 네트워크 운영자가 자기 자신에게 투표하는 것을 방지할 수 있습니다. 이러한 권한의 분리는 모든 PoS 투표와 위임에 대한 외부의 분산된 보증을 제공합니다.',\n      'Participation Instructions Content2':\n        '이를 실현하기 위해서, 가디언에게로의 투표권 위임과,  밸리데이터에 대한 가디언의 투표는 표준 이더리움 지갑을 이용한 이더리움 네트워크에서의 스마트 컨트랙트로 관리됩니다.',\n      'Guardians Description':\n        '누구나 가디언이 되어 밸리데이터에게 매일 투표할 수 있습니다. 가디언은 밸리데이터를 확인하고 노드 운영을 감시하고 네트워크 감사를 수행하는 핵심 역할을 맡고 있습니다. 가디언이 되는 것에는 헌신과 노력이 필요합니다.',\n      'Validators Description':\n        '밸리데이터는 Orbs 네트워크를 운영합니다. 이들은 블록 생성과 검증에 참여하며 블록 히스토리와 네트워크를 유지시켜줍니다. 밸리데이터는 전문적 스킬과 노드 보안 유지 능력, 고수준의 서비스를 제공할 수 있는 능력과 연결성을 지녀야 합니다.',\n      'Manual Delegation Description':\n        '누구에게나 위임할 수 있습니다. 위임받은 자는 최종적으로 자신과 여러분의 자산을 가디언에게 위임해야합니다. 등록된 가디언에게 위임한 경우에만 보상이 지급됩니다.',\n      'Your vote has not been delegated yet.': '아직 위임되지 않았습니다.',\n      'Your vote has been delegated to': '다음의 주소로 위임되어 있습니다',\n      'Check delegation status': '위임 상태 확인하기',\n      'Check your delegation status': '위임 상태를 확인하세요',\n      'Enter your address in order to check to whom your stake is delegated.':\n        '여러분의 주소를 입력하여 누구에게 위임중인지 확인할 수 있습니다.',\n      Check: '확인하기',\n      'Delegate Ethereum Address': '위임받을 ETH 주소',\n      Vote: '투표하기',\n      'Your name': '등록할 이름',\n      'Your website': '웹사이트 주소',\n      Add: '추가하기',\n      'Your IP Address': '노드 IP 주소',\n      'Your Orbs Address': 'Orbs 주소',\n      Close: '닫기',\n      'Guardians List': '가디언 목록',\n      'Next election round will take place at Ethereum block': '다음 선거가 예정되어 있는 이더리움 블록번호',\n      'Participating stake': '전체 스테이킹 참여수량',\n      'Want to delegate manually to another address? Click {{here}}.': '직접 다른 주소로 위임하고 싶으신가요?',\n      'Click here': '여기를 클릭하세요',\n      Delegate: '위임하기',\n      Name: '이름',\n      Address: '주소',\n      Website: '웹사이트',\n      '% in last election': '지난 선거 점유율(%)',\n      'Voted for next elections': '다음 투표 완료 여부',\n      'Vote Out': '반대표 투표',\n      'Keep everyone': '전체 유지 투표',\n      'Guardian did not vote before': '가디언이 투표하지 않았습니다.',\n      'Validators List': '밸리데이터 목록',\n      'Become a guardian': '가디언 등록하기',\n      'Your most recent vote was against': '최근 반대표를 다음에 투표하였습니다',\n      'You have not voted yet': '아직 투표하지 않았습니다',\n      Home: '홈',\n      Guardians: '가디언',\n      Validators: '밸리데이터',\n      'Elected Validators': '선출된 밸리데이터',\n      Rewards: '보상조회',\n      Delegators: '델리게이터',\n      'Delegating using Metamask': '메타마스크(Metamask)를 이용하여 위임하기',\n      'Delegating by sending 0.07 ORBS directly': '직접 0.07 ORBS 송금으로 위임하기',\n      'Delegating using MyCrypto': '마이크립토(MyCrypto)지갑을 이용하여 위임하기',\n      'Becoming a Guardian': '가디언 등록하기',\n      'Voting using MyCrypto': '마이크립토(MyCrypto)를 이용하여 투표하기',\n      'Becoming a Validator': '밸리데이터 등록하기',\n      Explore: '밸리데이터 확인',\n      'Participation Instructions': '참여 안내',\n      'Delegated To': '위임받은 곳',\n      'Guardian voted in previous elections': '위임받은 가디언의 지난 번 투표 여부',\n      'Guardian voted for next elections': '위임받은 가디언의 다음 투표 유효성 여부',\n      'Delegation method': '위임한 방법',\n      'Delegation timestamp': '위임했던 실제시간',\n      'Delegation block number': '위임했던 블록번호',\n      'Rewards & Delegation Info': '보상 및 위임 정보',\n      'Enter the address': '주소를 입력해주세요',\n      Submit: '제출',\n      'Delegation Details': '자세한 위임 현황',\n      'The information above corresponds to elections at block number':\n        '위 정보는 다음 블록에서 진행된 투표 기준으로 제공됩니다',\n      'Delegator Reward': '델리게이터 보상',\n      'Guardian Excellency Reward': '우수 가디언 보상',\n      'Validator Reward': '밸리데이터 보상',\n      'Total Reward': '전체 보상',\n      'Become a validator': '밸리데이터 등록하기',\n      'Ethereum Address': '이더리움 주소',\n      'Orbs Address': 'Orbs 주소',\n      Stake: '스테이킹 수량',\n      Yes: 'Yes',\n      No: 'No',\n      Distributed: '배포됨',\n      'Distribution Event': '배포 이벤트',\n      'Transaction Hash': '트랜잭션 정보',\n      Amount: '수량',\n      'Total Distributed': '총 배포수량',\n      \"Delegator's ORBS Balance\": '위임한 ORBS 수량',\n      'Last election votes against (%)': '지난 선거에서 받은 반대표(%)',\n      'Manually Delegate Your Stake': '직접 수동으로 위임하기',\n      Cancel: '취소하기',\n      'Display ORBS in metamask': '메타마스크에 있는 ORBS 표시',\n\n      // *************************\n      // Well formatted messages\n      // *************************\n\n      // Participation\n      text_delegatorDescriptionMain:\n        'ORBS 토큰을 가지고 있으시다면, 신뢰하는 가디언에게 보팅파워를 위임하여 오브스 유니버스에 참여할 책임이 있습니다. 이를 통해 밸리데이터가 네트워크를 운영하는데 있어서 신뢰성을 더해주어 네트워크 보안에 기여하게 됩니다. 한 번 위임하면 다른 가디언으로 바꿀때까지 계속 유요합니다.',\n      text_delegatorDescriptionTetra:\n        'TETRA는 오브스 전용 스테이킹 지갑입니다. ORBS 홀더는 쉽게 가디언을 선택하고 스테이킹할 수 있습니다.',\n      linkText_tetraWalletTutorial: 'Tetra 사용설명',\n\n      // Rewards Page\n      // TODO : TRANSLATIONs : ADD\n      message_orbsWillTransitionToV2On: 'Orbs will transition to V2 on Nov 30',\n      message_toChangeDelegationsUseV1Tetra: 'To change your V1 Delegation please use {{tetraLink}}',\n      concept_tetraV1: 'Tetra V1',\n      message_orbsHasTransitionedToV20On: 'Orbs had transitioned to V2 on November 30, 2020',\n      message_thisPageDisplaysSnapshotData: 'This page displays static data from the last snapshot of V1.',\n\n      // Rewards table\n      delegatorNonStakedOrbs: '스테이킹하고 있지 않는 ORBS',\n      delegatorStakedOrbs: '스테이킹 참여 중인 ORBS',\n\n      // Alerts\n      alert_stakingWithoutGuardian:\n        '주의 - 이 주소는 스테이킹에 하고 있지만 가디언에게 위임하지 않았습니다. 이 경우, 리워드가 적립되지 않습니다',\n      alert_delegatingToNonGuardian:\n        'Warning - this address is delegating to an address that does not belong to a Guardian. No rewards will be accumulated',\n      alert_notParticipating: '알림: 이 주소는 ORBS를 보유하고 있지만 스테이킹하고 있지 않습니다',\n      action_goToTetra: '{{tetraLink}}로 이동',\n      action_youCanStakeYourORBSAndSelectAGuardianWithTetra:\n        '{{tetraLink}}에서 ORBS스테이킹과 가디언위임 선택이 가능합니다',\n      text_tetraName: 'Tetra',\n    },\n  },\n};\n","/**\n * Copyright 2019 the orbs-ethereum-contracts authors\n * This file is part of the orbs-ethereum-contracts library in the Orbs project.\n *\n * This source code is licensed under the MIT license found in the LICENSE file in the root directory of this source tree.\n * The above notice should be included in all copies or substantial portions of the software.\n */\n\nimport { useLocation } from 'react-router';\nimport React, { useContext } from 'react';\nimport { PreLangBasenameContext } from './PreLangBasenameContext';\n\nfunction addLangToCurrentLocation(location, preLangBasename: string, lang: string) {\n  const langRegexp = /\\/(en|ko|jp)\\//;\n  return location.pathname.match(langRegexp)\n    ? location.pathname.replace(langRegexp, `/${lang}/`)\n    : `${preLangBasename}/${lang}${location.pathname}`;\n}\n\ninterface IProps {\n  lang: string;\n}\n\nexport const ChangeLangLink: React.FC<IProps> = ({ lang, children }) => {\n  const location = useLocation();\n  const preLangBasename = useContext(PreLangBasenameContext);\n  return <a href={addLangToCurrentLocation(location, preLangBasename, lang)}>{children}</a>;\n};\n","/**\n * Copyright 2019 the orbs-ethereum-contracts authors\n * This file is part of the orbs-ethereum-contracts library in the Orbs project.\n *\n * This source code is licensed under the MIT license found in the LICENSE file in the root directory of this source tree.\n * The above notice should be included in all copies or substantial portions of the software.\n */\n\nimport { withStyles } from '@material-ui/core/styles';\nimport React from 'react';\nimport { ChangeLangLink } from '../multi-lang/ChangeLangLink';\nimport EN_FLAG from './en-us.png';\nimport JP_FLAG from './jp.png';\nimport KO_FLAG from './ko.png';\n\nconst styles = () => ({\n  list: {\n    padding: 0,\n    margin: 0,\n    display: 'inherit',\n    listStyle: 'none',\n    justifyContent: 'flex-end',\n  },\n  item: {\n    // padding: '0 10px',\n    paddingInlineStart: '20px',\n    '&:hover': {\n      opacity: 0.8,\n    },\n  },\n});\n\nconst LanguagesImpl = ({ classes }) => {\n  return (\n    <ul className={classes.list}>\n      <li className={classes.item}>\n        <ChangeLangLink lang='en'>\n          <img src={EN_FLAG} alt='English' />\n        </ChangeLangLink>\n      </li>\n      <li className={classes.item}>\n        <ChangeLangLink lang='jp'>\n          <img src={JP_FLAG} alt='Japanese' />\n        </ChangeLangLink>\n      </li>\n      <li className={classes.item}>\n        <ChangeLangLink lang='ko'>\n          <img src={KO_FLAG} alt='Korean' />\n        </ChangeLangLink>\n      </li>\n    </ul>\n  );\n};\n\nexport const Languages = withStyles(styles)(LanguagesImpl);\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAALCAIAAAD5gJpuAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAHzSURBVHjaYkxOP8IAB//+Mfz7w8Dwi4HhP5CcJb/n/7evb16/APL/gRFQDiAAw3JuAgAIBEDQ/iswEERjGzBQLEru97ll0g0+3HvqMn1SpqlqGsZMsZsIe0SICA5gt5a/AGIEarCPtFh+6N/ffwxA9OvP/7//QYwff/6fZahmePeB4dNHhi+fGb59Y4zyvHHmCEAAAW3YDzQYaJJ93a+vX79aVf58//69fvEPlpIfnz59+vDhw7t37968efP3b/SXL59OnjwIEEAsDP+YgY53b2b89++/awvLn98MDi2cVxl+/vl6mituCtBghi9f/v/48e/XL86krj9XzwEEEENy8g6gu22rfn78+NGs5Ofr16+ZC58+fvyYwX8rxOxXr169fPny+fPn1//93bJlBUAAsQADZMEBxj9/GBxb2P/9+S/R8u3vzxuyaX8ZHv3j8/YGms3w8ycQARmi2eE37t4ACCDGR4/uSkrKAS35B3TT////wADOgLOBIaXIyjBlwxKAAGKRXjCB0SOEaeu+/y9fMnz4AHQxCP348R/o+l+//sMZQBNLEvif3AcIIMZbty7Ly6t9ZmXl+fXj/38GoHH/UcGfP79//BBiYHjy9+8/oUkNAAHEwt1V/vI/KBY/QSISFqM/GBg+MzB8A6PfYC5EFiDAABqgW776MP0rAAAAAElFTkSuQmCC\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAALCAIAAAD5gJpuAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAE2SURBVHjaYvz69SsDEvj37x+ERGbAwZ9//wACiAUoysXFBST///8P0QOm//+HU0jgxYsXAAHEAlP0H8HYt+//4SP/f//6b2b238sLrpqRkRFoCUAAsaCrXrv2/8KF///8+f/r9//Dh/8/ffI/OQWiAeJCgABigrseJPT27f/Vq////v3/1y8oWrzk/+PHcEv+/PkDEEBMEM/B3fj/40eo0t9g8suX/w8f/odZAVQMEEAsQAzj/2cQFf3PxARWCrYEaBXQLCkpqB/+/wcqBgggJrjxQPX/hYX/+/v///kLqhpIBgf/l5ODhxiQBAggFriToDoTEv5zcf3ftQuk2s7uf0wM3MdAAPQDQAAxvn37lo+PDy4KZUDcycj4/z9CBojv3r0LEEAgG969eweLSBDEBSCWAAQYACaTbJ/kuok9AAAAAElFTkSuQmCC\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAALCAIAAAD5gJpuAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAHiSURBVHjaYvz4/SsDEvj37x+YhLCgGAb+ADFAADEBpfk4uIDo2YNHV89fZP3PyMfBLcDFxc/NLcjNy8nMfPnM2cd374ry84sJCAE1AAQQC8Tg169fb9269cP7DyJiYsqKiv/v3v3/589/FZVnL16uXbtGQFBQWEhIRlYWaAVAAIFs+P///4cPH37//m1oYqwsJfm/t/d/QcH/vJz/ddUKYqJuXl5v3rx5/uIFUBnQBoAAYgT6gZedE6jt1atXXLy8jHsOcEyd+P/37y9/mH7+/CWQEPEpIvLj6zdS0lKMjIwPnj0BCCAWiC+BukVERICMnW/4jP8w/2bibDLMf/aTvfrxOX12dm5pKaACBkZGoJMAAgioAaQaCN6+fcvDzfVVXTdXvZKZjfURu9iHHz/vGrupf//85u1HSUlJRqCef/8AAogJiIGqb968OW3aNKC/PQw4VS1UnjALMXz/4azD5uokvW/f/vr6+pMnT0L8ABBALP/AocTFxQXkHzx0WFNLszZM7ZIJ+5+//3UV2O/du7l6zXphYWEBAQGgAqCTAAII5AcgS1pa2t3d/eXLl2JikkD9ekpcEHeKi0t5eHgANairq4PjlQEggBifv32LHJFwiuEPmMEAYf/5A1YNxAABBgCFMRk3L8TWJAAAAABJRU5ErkJggg==\"","export default __webpack_public_path__ + \"static/media/logo-white.9892bf0f.svg\";","import { createContext, useContext } from 'react';\nimport { IMetamask } from './IMetamask';\nimport { IRemoteService } from './IRemoteService';\nimport { IGuardiansService, IOrbsRewardsService, IStakingService } from 'orbs-pos-data';\n\nexport const ApiContext = createContext<{\n  remoteService: IRemoteService;\n  stakingService: IStakingService;\n  orbsRewardsService: IOrbsRewardsService;\n  guardiansService: IGuardiansService;\n  metamask?: IMetamask;\n}>(null!);\nexport const useApi = () => {\n  return useContext(ApiContext);\n};\n","/**\n * Copyright 2019 the orbs-ethereum-contracts authors\n * This file is part of the orbs-ethereum-contracts library in the Orbs project.\n *\n * This source code is licensed under the MIT license found in the LICENSE file in the root directory of this source tree.\n * The above notice should be included in all copies or substantial portions of the software.\n */\n\nimport { MuiThemeProvider, responsiveFontSizes } from '@material-ui/core/styles';\nimport React from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { AppTheme } from './App.theme';\n\n// DEV_NOTE : O.L : Temp solution for header sizing and buffering\nexport const HEADER_HEIGHT_REM = 8;\n\n// TODO : ORL : Break this apart if not re-building\nexport const ThemeProvider: React.FC = ({ children }) => {\n  const { t } = useTranslation();\n  return <MuiThemeProvider theme={AppTheme(t('fontFamily'))}>{children}</MuiThemeProvider>;\n};\n","import { createMuiTheme, responsiveFontSizes } from '@material-ui/core/styles';\n\nexport const AppTheme = (fontFamily: string) =>\n  responsiveFontSizes(\n    createMuiTheme({\n      palette: {\n        type: 'dark',\n        primary: { main: '#09142c' },\n        secondary: { main: '#74f6fd' },\n        background: {\n          default: '#0a0f25',\n          paper: '#192a45',\n        },\n      },\n      typography: {\n        fontFamily,\n      },\n      overrides: {\n        MuiTypography: {\n          body1: {\n            fontWeight: 500,\n          },\n          h4: {\n            fontWeight: 600,\n          },\n        },\n        MuiTableCell: {\n          body: { fontWeight: 500 },\n        },\n      },\n    }),\n  );\n","import { useTranslation } from 'react-i18next';\nimport { useMemo } from 'react';\n\nconst links: {url: string, translationKey: string}[] = [\n  // { translationKey: 'Home', url: '/' },\n  // { translationKey: 'Guardians', url: '/delegator' },\n  // { translationKey: 'Validators', url: '/guardian' },\n  // { translationKey: 'Elected Validators', url: '/validator' },\n  // { translationKey: 'Rewards', url: '/reward' },\n];\n\nexport type TLinkDescriptor = {\n  label: string;\n  url: string;\n};\n\nexport const useLinkDescriptors = () => {\n  const { t } = useTranslation();\n  const linkDescriptors = useMemo<TLinkDescriptor[]>(() => {\n    return links.map((link) => ({ url: link.url, label: t(link.translationKey) }));\n  }, [t]);\n\n  return linkDescriptors;\n};\n","import React, { createRef, useCallback, useMemo, useRef } from 'react';\nimport { Button, IconButton, Menu, MenuItem, Popover, Typography } from '@material-ui/core';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Link from '@material-ui/core/Link';\nimport { NavLink } from 'react-router-dom';\nimport { HOVER_COLOR } from './Header';\nimport { useLinkDescriptors } from './links';\nimport { useBoolean } from 'react-hanger';\n\nconst useStyles = makeStyles((theme) => ({\n  menuButton: {\n    // marginRight: theme.spacing(2),\n  },\n  typography: {\n    padding: theme.spacing(2),\n  },\n  link: {\n    width: '100%',\n    color: '#ffffffb3',\n    // marginLeft: 30,\n    transition: 'color 0.4s ease-in-out',\n    '&:hover': {\n      color: HOVER_COLOR,\n    },\n  },\n}));\n\nexport const MenuPopup = React.memo((props) => {\n  const classes = useStyles();\n  const linkDescriptors = useLinkDescriptors();\n  console.log('Render menu');\n\n  const { setFalse, setTrue, value } = useBoolean(false);\n\n  const [anchorEl, setAnchorEl] = React.useState<HTMLButtonElement | null>(null);\n\n  const handleClick = useCallback(\n    (event: React.MouseEvent<HTMLButtonElement>) => {\n      setTrue();\n      setAnchorEl(event.currentTarget);\n    },\n    [setTrue],\n  );\n\n  const handleClose = useCallback(() => {\n    setFalse();\n    setAnchorEl(null);\n  }, [setFalse]);\n\n  const menuItemLinks = useMemo(() => {\n    return linkDescriptors.map(({ label, url }, idx) => (\n      <MenuItem onClick={() => undefined} key={label + url}>\n        <Link\n          onClick={setFalse}\n          // @ts-ignore\n          component={NavLink}\n          key={idx}\n          exact={true}\n          className={classes.link}\n          activeStyle={{ color: HOVER_COLOR }}\n          underline='none'\n          to={url}\n          variant='h6'\n          noWrap\n        >\n          {label}\n        </Link>\n      </MenuItem>\n    ));\n  }, [classes.link, linkDescriptors, setFalse]);\n\n  const id = value ? 'links-popover-menu' : undefined;\n\n  return (\n    <div>\n      <IconButton onClick={handleClick} className={classes.menuButton} color='inherit' aria-label='menu'>\n        <MenuIcon />\n      </IconButton>\n      {/* TODO : O.L : Think about using 'Menu' instead of 'Popover' */}\n      <Popover\n        id={id}\n        open={value}\n        anchorEl={anchorEl}\n        onClose={handleClose}\n        anchorOrigin={{\n          vertical: 'bottom',\n          horizontal: 'left',\n        }}\n        transformOrigin={{\n          vertical: 'top',\n          horizontal: 'center',\n        }}\n      >\n        {menuItemLinks}\n      </Popover>\n    </div>\n  );\n});\n","/**\n * Copyright 2019 the orbs-ethereum-contracts authors\n * This file is part of the orbs-ethereum-contracts library in the Orbs project.\n *\n * This source code is licensed under the MIT license found in the LICENSE file in the root directory of this source tree.\n * The above notice should be included in all copies or substantial portions of the software.\n */\n\nimport AppBar from '@material-ui/core/AppBar';\nimport Link from '@material-ui/core/Link';\nimport { makeStyles, useTheme, withStyles } from '@material-ui/core/styles';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport classNames from 'classnames';\nimport React, { useCallback, useMemo, useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { NavLink } from 'react-router-dom';\nimport { ReadOnlyBanner } from '../ReadOnlyBanner/ReadOnlyBanner';\nimport { Languages } from './languages';\nimport logo from './logo-white.svg';\nimport { Button, IconButton, useMediaQuery } from '@material-ui/core';\nimport { useApi } from '../../services/ApiContext';\nimport { HEADER_HEIGHT_REM } from '../App/ThemeProvider';\nimport { MenuPopup } from './MenuPopup';\nimport { useLinkDescriptors } from './links';\n\nexport const HOVER_COLOR = '#16faff';\n\nconst useStyles = makeStyles((theme) => ({\n  appBar: {\n    paddingTop: '0.5rem',\n    paddingBottom: '0.5rem',\n    boxSizing: 'border-box',\n    height: `${HEADER_HEIGHT_REM}rem`,\n    zIndex: theme.zIndex.drawer + 1,\n    // padding: `${theme.spacing(2)}px ${theme.spacing(8)}px`,\n    // padding: theme.spacing(1),\n  },\n  logo: {\n    width: 70,\n  },\n  nav: {\n    display: 'inherit',\n    flexWrap: 'wrap',\n  },\n  toolbar: {\n    paddingRight: 0,\n    paddingLeft: 0,\n    // marginRight: 'auto',\n    // marginLeft: 'auto',\n    margin: 'auto',\n    width: '90%',\n    maxWidth: '90%',\n    justifyContent: 'space-between',\n  },\n  headerButtonsContainer: {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'flex-end',\n    margin: 'auto',\n    width: '90%',\n    maxWidth: '90%',\n  },\n  displayInMetamaskButton: {\n    marginRight: `${theme.spacing(3)}px`,\n  },\n  movedDown: {\n    paddingTop: 48,\n  },\n  link: {\n    color: '#ffffffb3',\n    marginLeft: 30,\n    transition: 'color 0.4s ease-in-out',\n    '&:hover': {\n      color: HOVER_COLOR,\n    },\n  },\n}));\n\n// TODO : O.L : Fix the snackbar hiding the header\nexport const Header = React.memo((props) => {\n  const classes = useStyles();\n  const { t } = useTranslation();\n  const { metamask } = useApi();\n  // const hasMetamask = useMemo(() => !!metamask, [metamask]);\n  // const [isNoMetamaskBannerOpen, setIsMetamaskBannerOpen] = useState(!hasMetamask);\n  // const hideMetaMaskBanner = useCallback(() => setIsMetamaskBannerOpen(false), [setIsMetamaskBannerOpen]);\n\n  const theme = useTheme();\n  const smallerThanSmall = useMediaQuery(theme.breakpoints.down('xs'));\n  const linkDescriptors = useLinkDescriptors();\n\n  // C.F.H : add proper menu for smaller screens\n\n  const menuLinks = useMemo(() => {\n    return linkDescriptors.map(({ label, url }, idx) => (\n      <Link\n        // @ts-ignore\n        component={NavLink}\n        key={idx}\n        exact={true}\n        className={classes.link}\n        activeStyle={{ color: HOVER_COLOR }}\n        underline='none'\n        to={url}\n        variant='h6'\n        noWrap\n      >\n        {label}\n      </Link>\n    ));\n  }, [classes.link, linkDescriptors]);\n\n  const menu = useMemo(() => {\n    if (smallerThanSmall) {\n      return <MenuPopup />;\n    } else {\n      return <nav className={classes.nav}>{menuLinks}</nav>;\n    }\n  }, [classes.nav, menuLinks, smallerThanSmall]);\n\n  return (\n    <AppBar\n      position='fixed'\n      className={classNames({\n        [classes.appBar]: true,\n        // [classes.movedDown]: isNoMetamaskBannerOpen, // Add header padding so the banner will not hide the content\n      })}\n      data-testid='header'\n    >\n      {/* MetaMask banner */}\n      {/*<ReadOnlyBanner isOpen={isNoMetamaskBannerOpen} closeBanner={hideMetaMaskBanner} />*/}\n\n      <div className={classes.headerButtonsContainer}>\n        {metamask && !smallerThanSmall && (\n          <Button\n            size='small'\n            variant='outlined'\n            color='secondary'\n            onClick={() => metamask.displayOrbsInMetamask()}\n            className={classes.displayInMetamaskButton}\n          >\n            {t('Display ORBS in metamask')}\n          </Button>\n        )}\n        <Languages />\n      </div>\n      <Toolbar className={classes.toolbar}>\n        <NavLink to='/'>\n          <img className={classes.logo} src={logo} alt='Orbs' />\n        </NavLink>\n        {menu}\n      </Toolbar>\n    </AppBar>\n  );\n});\n","/**\n * Copyright 2019 the orbs-ethereum-contracts authors\n * This file is part of the orbs-ethereum-contracts library in the Orbs project.\n *\n * This source code is licensed under the MIT license found in the LICENSE file in the root directory of this source tree.\n * The above notice should be included in all copies or substantial portions of the software.\n */\n\nimport React from 'react';\nimport { Chip } from '@material-ui/core';\nimport red from '@material-ui/core/colors/red';\nimport green from '@material-ui/core/colors/green';\nimport { withStyles } from '@material-ui/core/styles';\nimport { useTranslation } from 'react-i18next';\n\nconst styles = () => ({\n  yesChip: {\n    width: 50,\n    backgroundColor: green[400],\n  },\n  noChip: {\n    width: 50,\n    backgroundColor: red[700],\n  },\n});\n\nconst VoteChipImpl = ({ value, classes }) => {\n  const { t } = useTranslation();\n  return <Chip className={value ? classes.yesChip : classes.noChip} label={value ? t('Yes') : t('No')} />;\n};\n\nexport const VoteChip = withStyles(styles)(VoteChipImpl);\n","/**\n * Copyright 2019 the orbs-ethereum-contracts authors\n * This file is part of the orbs-ethereum-contracts library in the Orbs project.\n *\n * This source code is licensed under the MIT license found in the LICENSE file in the root directory of this source tree.\n * The above notice should be included in all copies or substantial portions of the software.\n */\n\nimport React, { useMemo } from 'react';\nimport { VoteChip } from '../../components/VoteChip/VoteChip';\nimport Table from '@material-ui/core/Table';\nimport TableRow from '@material-ui/core/TableRow';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport Typography from '@material-ui/core/Typography';\nimport { useTranslation } from 'react-i18next';\nimport { TStakingInfo } from './rewardsPageHooks';\nimport { TCurrentDelegationInfo } from '../../services/IRemoteService';\nimport { TableContainer, useMediaQuery } from '@material-ui/core';\nimport { useTheme } from '@material-ui/core/styles';\n\nconst formatTimestamp = (timestamp) =>\n  new Date(timestamp).toLocaleString('en-gb', {\n    hour12: false,\n    timeZone: 'UTC',\n    timeZoneName: 'short',\n    year: 'numeric',\n    month: 'short',\n    day: 'numeric',\n    hour: 'numeric',\n    minute: 'numeric',\n    second: 'numeric',\n  });\n\n// TODO : FUTRUE : O.L : Fix types\ninterface IProps {\n  // Props of delegator\n  delegatorAddress: string;\n  delegatorInfo: TCurrentDelegationInfo;\n  delegatorStakingInfo: TStakingInfo;\n  isAGuardian?: boolean;\n\n  // Props of Delegatee (Guardian)\n  guardianInfo: any;\n}\n\nexport const DelegationInfoTable = React.memo<IProps>((props) => {\n  const { delegatorAddress, delegatorInfo, delegatorStakingInfo, guardianInfo, isAGuardian } = props;\n\n  const { t } = useTranslation();\n\n  // DEV_NOTE : This huge memo could be broken\n  const { delegationType, delegatorBalance, delegatedTo, delegationBlockNumber, delegationTimestamp } = useMemo<{\n    delegationType: string;\n    delegatorBalance: string;\n    delegatedTo: string;\n    delegationBlockNumber: string;\n    delegationTimestamp: string;\n  }>(() => {\n    const delegatorBalance = `${(delegatorInfo.delegatorBalance || 0).toLocaleString()} ORBS`;\n    let delegatedTo: string;\n    let delegationBlockNumber: string;\n    let delegationTimestamp: string;\n\n    let delegationType = delegatorInfo.delegationType;\n\n    if (delegationType === 'Not-Delegated') {\n      // delegatorBalance = '-';\n      delegatedTo = '-';\n      delegationBlockNumber = '-';\n      delegationTimestamp = '-';\n    } else {\n      // delegatorBalance = `${(delegatorInfo.delegatorBalance || 0).toLocaleString()} ORBS`;\n      delegatedTo = delegatorInfo.delegatedTo;\n      delegationBlockNumber = (delegatorInfo.delegationBlockNumber || 0).toLocaleString();\n      delegationTimestamp =\n        delegatorInfo['delegationTimestamp'] != 0 ? formatTimestamp(delegatorInfo['delegationTimestamp']) : '--';\n    }\n\n    // DEV_NOTE : Guardians always 'delegate' to themself\n    if (isAGuardian) {\n      delegatedTo = delegatorAddress;\n      delegationBlockNumber = '-';\n      delegationTimestamp = '-';\n      delegationType = 'Self (Guardian)';\n    }\n\n    return {\n      delegationType,\n      delegatorBalance,\n      delegatedTo,\n      delegationBlockNumber,\n      delegationTimestamp,\n    };\n  }, [delegatorAddress, delegatorInfo, isAGuardian]);\n\n  // DEV_NOTE : This is a hack to mamk the \"table\" looks better with all of\n  //            the content visible in mobile (without the need to scroll for) because of the\n  //            long address.\n  const theme = useTheme();\n  const smallerThanSmall = useMediaQuery(theme.breakpoints.down('xs'));\n  const contentCellAlignment = smallerThanSmall ? 'left' : 'right';\n\n  return (\n    <TableContainer>\n      <Table>\n        <TableBody>\n          <TableRow>\n            <TableCell>{t('Delegated To')}</TableCell>\n            <TableCell align='right'>\n              <Typography\n                noWrap\n                style={{\n                  textOverflow: 'ellipsis',\n                  whiteSpace: 'nowrap',\n                  overflow: 'hidden',\n                }}\n              >\n                {delegatedTo}\n              </Typography>\n            </TableCell>\n            {/*<TableCell align='right'></TableCell>*/}\n          </TableRow>\n          <TableRow>\n            <TableCell>{t(`delegatorNonStakedOrbs`)}</TableCell>\n            <TableCell align={contentCellAlignment}>{delegatorBalance}</TableCell>\n          </TableRow>\n          <TableRow>\n            <TableCell>{t(`delegatorStakedOrbs`)}</TableCell>\n            <TableCell align={contentCellAlignment}>{delegatorStakingInfo.stakedOrbs?.toLocaleString()}</TableCell>\n          </TableRow>\n          <TableRow>\n            <TableCell>{t('Guardian voted in previous elections')}</TableCell>\n            <TableCell align={contentCellAlignment}>\n              {guardianInfo.voted === true || guardianInfo.voted === false ? (\n                <VoteChip value={guardianInfo.voted} />\n              ) : (\n                '-'\n              )}\n            </TableCell>\n          </TableRow>\n          <TableRow>\n            <TableCell>{t('Guardian voted for next elections')}</TableCell>\n            <TableCell align={contentCellAlignment}>\n              {guardianInfo.hasEligibleVote === true || guardianInfo.hasEligibleVote === false ? (\n                <VoteChip value={guardianInfo.hasEligibleVote} />\n              ) : (\n                '-'\n              )}\n            </TableCell>\n          </TableRow>\n          <TableRow>\n            <TableCell>{t('Delegation method')}</TableCell>\n            <TableCell align={contentCellAlignment}>{delegationType}</TableCell>\n          </TableRow>\n          <TableRow>\n            <TableCell>{t('Delegation block number')}</TableCell>\n            <TableCell align={contentCellAlignment}>{delegationBlockNumber}</TableCell>\n          </TableRow>\n          <TableRow>\n            <TableCell>{t('Delegation timestamp')}</TableCell>\n            <TableCell align={contentCellAlignment}>{delegationTimestamp}</TableCell>\n          </TableRow>\n        </TableBody>\n      </Table>\n    </TableContainer>\n  );\n});\n","/**\n * Copyright 2019 the orbs-ethereum-contracts authors\n * This file is part of the orbs-ethereum-contracts library in the Orbs project.\n *\n * This source code is licensed under the MIT license found in the LICENSE file in the root directory of this source tree.\n * The above notice should be included in all copies or substantial portions of the software.\n */\n\nimport React from 'react';\nimport Table from '@material-ui/core/Table';\nimport TableRow from '@material-ui/core/TableRow';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableFooter from '@material-ui/core/TableFooter';\nimport { useTranslation } from 'react-i18next';\nimport { TRewardsSummary } from '../../services/IRemoteService';\n\ninterface IProps {\n  rewardsSummary: TRewardsSummary;\n}\n// TODO : O.L : This table is \"responsive\" due to having little details, make it really responsive.\n\nexport const RewardsTable = React.memo<IProps>((props) => {\n  const { rewardsSummary } = props;\n  const { t } = useTranslation();\n  const { delegatorReward = 0, guardianReward = 0, validatorReward = 0 } = rewardsSummary;\n  const totalReward = delegatorReward + guardianReward + validatorReward;\n  return (\n    <Table>\n      <TableBody>\n        <TableRow>\n          <TableCell>{t('Delegator Reward')}</TableCell>\n          <TableCell align='right'>{delegatorReward.toLocaleString()} ORBS</TableCell>\n        </TableRow>\n        <TableRow>\n          <TableCell>{t('Guardian Excellency Reward')}</TableCell>\n          <TableCell align='right'>{guardianReward.toLocaleString()} ORBS</TableCell>\n        </TableRow>\n        <TableRow>\n          <TableCell>{t('Validator Reward')}</TableCell>\n          <TableCell align='right'>{validatorReward.toLocaleString()} ORBS</TableCell>\n        </TableRow>\n      </TableBody>\n      <TableFooter>\n        <TableRow>\n          <TableCell>{t('Total Reward')}</TableCell>\n          <TableCell align='right'>{totalReward.toLocaleString()} ORBS</TableCell>\n        </TableRow>\n      </TableFooter>\n    </Table>\n  );\n});\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\n\ninterface IProps {}\n\nconst useStyles = makeStyles((theme) => ({\n  page: {\n    height: '100%',\n    width: 'fit-content',\n    maxWidth: '100%',\n    boxSizing: 'border-box',\n    paddingBottom: '2em',\n  },\n}));\n\nexport const Page = React.memo<IProps>((props) => {\n  const classes = useStyles();\n  const { children } = props;\n  return <div className={classes.page}>{children}</div>;\n});\n","import React, { DetailedHTMLProps } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\n\ninterface IProps {}\n\nconst useStyles = makeStyles((theme) => ({\n  section: {\n    display: 'flex',\n    flexWrap: 'wrap',\n    maxWidth: '100%',\n    overflowX: 'hidden',\n    justifyItems: 'center',\n  },\n}));\n\ntype TSectionProps = DetailedHTMLProps<React.HTMLAttributes<HTMLElement>, HTMLElement>;\n\nexport const PageSection = React.memo<IProps & TSectionProps>((props) => {\n  const { children, ...others } = props;\n  return <section {...others}>{children}</section>;\n});\n","import web3 from 'web3';\n\nexport function fullOrbsFromWeiOrbs(weiOrbs: bigint): number {\n  return parseInt(web3.utils.fromWei(weiOrbs.toString(), 'ether'));\n}\n\nexport function weiOrbsFromFullOrbs(fullOrbs: number): bigint {\n  return BigInt(web3.utils.toWei(fullOrbs.toString(), 'ether'));\n}\n","import React, { forwardRef } from 'react';\n\nimport AddBox from '@material-ui/icons/AddBox';\nimport ArrowDownward from '@material-ui/icons/ArrowDownward';\nimport Check from '@material-ui/icons/Check';\nimport ChevronLeft from '@material-ui/icons/ChevronLeft';\nimport ChevronRight from '@material-ui/icons/ChevronRight';\nimport Clear from '@material-ui/icons/Clear';\nimport DeleteOutline from '@material-ui/icons/DeleteOutline';\nimport Edit from '@material-ui/icons/Edit';\nimport FilterList from '@material-ui/icons/FilterList';\nimport FirstPage from '@material-ui/icons/FirstPage';\nimport LastPage from '@material-ui/icons/LastPage';\nimport Remove from '@material-ui/icons/Remove';\nimport SaveAlt from '@material-ui/icons/SaveAlt';\nimport Search from '@material-ui/icons/Search';\nimport ViewColumn from '@material-ui/icons/ViewColumn';\nimport { SvgIcon } from '@material-ui/core';\n\n// DEV_NOTE : This is done as recommended at 'https://github.com/mbrn/material-table'\n\nexport const TABLE_ICONS = {\n  Add: forwardRef<SVGSVGElement>((props, ref) => <AddBox {...props} ref={ref} />),\n  Check: forwardRef<SVGSVGElement>((props, ref) => <Check {...props} ref={ref} />),\n  Clear: forwardRef<SVGSVGElement>((props, ref) => <Clear {...props} ref={ref} />),\n  Delete: forwardRef<SVGSVGElement>((props, ref) => <DeleteOutline {...props} ref={ref} />),\n  DetailPanel: forwardRef<SVGSVGElement>((props, ref) => <ChevronRight {...props} ref={ref} />),\n  Edit: forwardRef<SVGSVGElement>((props, ref) => <Edit {...props} ref={ref} />),\n  Export: forwardRef<SVGSVGElement>((props, ref) => <SaveAlt {...props} ref={ref} />),\n  Filter: forwardRef<SVGSVGElement>((props, ref) => <FilterList {...props} ref={ref} />),\n  FirstPage: forwardRef<SVGSVGElement>((props, ref) => <FirstPage {...props} ref={ref} />),\n  LastPage: forwardRef<SVGSVGElement>((props, ref) => <LastPage {...props} ref={ref} />),\n  NextPage: forwardRef<SVGSVGElement>((props, ref) => <ChevronRight {...props} ref={ref} />),\n  PreviousPage: forwardRef<SVGSVGElement>((props, ref) => <ChevronLeft {...props} ref={ref} />),\n  ResetSearch: forwardRef<SVGSVGElement>((props, ref) => <Clear {...props} ref={ref} />),\n  Search: forwardRef<SVGSVGElement>((props, ref) => <Search {...props} ref={ref} />),\n  SortArrow: forwardRef<SVGSVGElement>((props, ref) => <ArrowDownward {...props} ref={ref} />),\n  ThirdStateCheck: forwardRef<SVGSVGElement>((props, ref) => <Remove {...props} ref={ref} />),\n  ViewColumn: forwardRef<SVGSVGElement>((props, ref) => <ViewColumn {...props} ref={ref} />),\n};\n","/**\n * Copyright 2019 the orbs-ethereum-contracts authors\n * This file is part of the orbs-ethereum-contracts library in the Orbs project.\n *\n * This source code is licensed under the MIT license found in the LICENSE file in the root directory of this source tree.\n * The above notice should be included in all copies or substantial portions of the software.\n */\n\nimport React, { useMemo } from 'react';\nimport MaterialTable, { Column, MTableBody } from 'material-table';\nimport Table from '@material-ui/core/Table';\nimport TableRow from '@material-ui/core/TableRow';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableFooter from '@material-ui/core/TableFooter';\nimport { useTranslation } from 'react-i18next';\nimport { TableHead, Typography } from '@material-ui/core';\nimport Link from '@material-ui/core/Link';\nimport { IRewardsDistributionEvent } from 'orbs-pos-data';\nimport { fullOrbsFromWeiOrbs } from '../../cryptoUtils/unitConverter';\nimport { TABLE_ICONS } from '../../components/tables/TableIcons';\n\ninterface IProps {\n  distributionsHistory: IRewardsDistributionEvent[];\n}\n\nexport const RewardsHistoryTable = React.memo<IProps>((props) => {\n  const { t } = useTranslation();\n  const { distributionsHistory } = props;\n\n  const totalAmount = distributionsHistory.reduce((prev, cur) => {\n    const fullOrbs = fullOrbsFromWeiOrbs(cur.amount);\n    return prev + fullOrbs;\n  }, 0);\n\n  const COLUMNS = useMemo<Column<IRewardsDistributionEvent>[]>(() => {\n    return [\n      {\n        title: t('Distribution Event'),\n        field: 'distributionEvent',\n        align: 'left',\n        type: 'string',\n        width: 'min-content',\n      },\n      {\n        title: t('Transaction Hash'),\n        field: 'transactionHash',\n        render: (data, type) => {\n          return (\n            <Link\n              color='secondary'\n              target='_blank'\n              rel='noopener'\n              href={`https://etherscan.io/tx/${data.transactionHash}`}\n            >\n              {data.transactionHash}\n            </Link>\n          );\n        },\n      },\n      {\n        title: t('Amount'),\n        align: 'right',\n        width: 'min-content',\n        field: 'amount',\n        render: (data, type) => {\n          const amount = data.amount ? fullOrbsFromWeiOrbs(data.amount) : 0;\n          return `${amount.toLocaleString()} ORBS`;\n        },\n      },\n    ];\n  }, [t]);\n\n  return (\n    <MaterialTable\n      components={{\n        //  DEV_NOTE : Remove 'Paper'\n        Container: (containerProps) => containerProps.children,\n        // DEV_NOTE : Allows footer\n        Body: (props) => (\n          <>\n            <MTableBody {...props} />\n            <TableFooter style={{ width: '100%' }}>\n              <TableRow>\n                <TableCell>{t('Total Distributed')}</TableCell>\n                <TableCell />\n                <TableCell align='right'>{(totalAmount || 0).toLocaleString()} ORBS</TableCell>\n              </TableRow>\n            </TableFooter>\n          </>\n        ),\n      }}\n      style={{ backgroundColor: 'rgba(0,0,0, 0)' }}\n      icons={TABLE_ICONS}\n      columns={COLUMNS}\n      data={distributionsHistory}\n      options={{\n        headerStyle: {\n          backgroundColor: 'rgba(0,0,0,0)',\n        },\n        search: false,\n        showTitle: false,\n        paging: false,\n      }}\n    />\n  );\n});\n","/* eslint-disable @typescript-eslint/no-use-before-define */\nimport {\n  IGuardianInfo,\n  IGuardiansService,\n  IOrbsRewardsService,\n  IRewardsDistributionEvent,\n  IStakingService,\n} from 'orbs-pos-data';\nimport { useEffect } from 'react';\nimport { useBoolean, useStateful } from 'react-hanger';\nimport { useApi } from '../../services/ApiContext';\nimport { IRemoteService, TCurrentDelegationInfo, TRewardsSummary } from '../../services/IRemoteService';\nimport { fullOrbsFromWeiOrbs } from '../../cryptoUtils/unitConverter';\nimport { IGuardianData } from '../../services/IGuardianData';\nimport { useGuardiansStore } from '../../Store/storeHooks';\nimport { useGuardiansService } from '../../services/ServicesHooks';\n\nexport type TStakingInfo = {\n  stakedOrbs: number;\n};\n\nexport type TCompleteAddressInfoForRewardsPage = {\n  hasActiveDelegation: boolean;\n  delegatingToValidGuardian: boolean;\n  delegatorInfo: TCurrentDelegationInfo;\n  guardianInfo?: IGuardianInfo;\n  stakingInfo: TStakingInfo;\n  rewardsSummary: TRewardsSummary;\n  distributionsHistory: IRewardsDistributionEvent[];\n};\n\n// DEV_NOTE : O.L : This was added for the V1 state preserving\nexport type TCompleteAddressInfoForRewardsPageWithAddress = TCompleteAddressInfoForRewardsPage & { address: string };\n\nexport const emptyCompleteAddressInfoForRewardsPage: TCompleteAddressInfoForRewardsPage = {\n  distributionsHistory: [],\n  delegatorInfo: {\n    delegatedTo: '',\n    delegationBlockNumber: 0,\n    delegationTimestamp: 0,\n    delegationType: '',\n    delegatorBalance: 0,\n  },\n  hasActiveDelegation: false,\n  delegatingToValidGuardian: false,\n  stakingInfo: {\n    stakedOrbs: 0,\n  },\n  guardianInfo: {\n    website: '',\n    hasEligibleVote: false,\n    name: '',\n    stakePercent: 0,\n    voted: false,\n  },\n  rewardsSummary: {\n    validatorReward: 0,\n    guardianReward: 0,\n    delegatorReward: 0,\n  },\n};\n\nexport type TUseCompleteAddressInfoForRewardsPage = (\n  address?: string,\n) => { addressData: TCompleteAddressInfoForRewardsPage; errorLoading: boolean };\n\n\nexport const useCompleteAddressInfoForRewardsPage: TUseCompleteAddressInfoForRewardsPage = (address) => {\n  const errorLoading = useBoolean(false);\n  const addressData = useStateful<TCompleteAddressInfoForRewardsPage>(emptyCompleteAddressInfoForRewardsPage);\n  const guardianService = useGuardiansService();\n  const guardiansStore = useGuardiansStore();\n\n  const { orbsRewardsService, remoteService, stakingService } = useApi();\n\n  useEffect(() => {\n    if (address) {\n      readCompleteDataForAddress(\n        address,\n        orbsRewardsService,\n        remoteService,\n        stakingService,\n        guardianService,\n        guardiansStore.guardiansAddresses,\n      )\n        .then(addressData.setValue)\n        .catch(errorLoading.setTrue);\n    }\n  }, [\n    address,\n    addressData.setValue,\n    errorLoading.setTrue,\n    guardianService,\n    guardiansStore.guardiansAddresses,\n    orbsRewardsService,\n    remoteService,\n    stakingService,\n  ]);\n\n  if (!address) {\n    return {\n      addressData: emptyCompleteAddressInfoForRewardsPage,\n      errorLoading: false,\n    };\n  }\n\n  return {\n    addressData: addressData.value,\n    errorLoading: errorLoading.value,\n  };\n};\n\nconst fetchRewardsHistory = async (address: string, orbsRewardsService: IOrbsRewardsService) => {\n  return await orbsRewardsService.readRewardsDistributionsHistory(address);\n};\n\nconst fetchDelegationAndGuardianInfo = async (\n  address: string,\n  remoteService: IRemoteService,\n  guardiansService: IGuardiansService,\n  validGuardianAddresses: string[],\n) => {\n  // Initialize with empty data\n  let guardianInfo: IGuardianInfo = {\n    website: '',\n    hasEligibleVote: false,\n    name: '',\n    stakePercent: 0,\n    voted: false,\n  };\n  let hasActiveDelegation: boolean;\n  let delegatingToValidGuardian = false;\n\n  let delegatorInfo: TCurrentDelegationInfo;\n\n  // DEV_NOTE : O.L : This 'graceful failure' was added for the extraction of all v1 data.\n  //                  There was one address that always got 500 response.\n  try {\n    delegatorInfo = await remoteService.getCurrentDelegationInfo(address);\n  } catch (e) {\n    console.error(`WARNING: Could not get delegation info for ${address}`);\n    delegatorInfo = {\n      delegatorBalance:0.0,\n      delegationType:\"Not-Delegated\",\n      delegatedTo:\"0x0000000000000000000000000000000000000000\",\n      delegationBlockNumber: 0,\n      delegationTimestamp: 0,\n    }\n  }\n\n  if (delegatorInfo.delegationType === 'Not-Delegated') {\n    hasActiveDelegation = false;\n  } else {\n    const guardianAddress = delegatorInfo.delegatedTo;\n\n    // DEV_NOTE : O.L : This check was added after an edge case where a delegator was found delegating to a Guardian that\n    //                  has left.\n    delegatingToValidGuardian = validGuardianAddresses.includes(guardianAddress.toLowerCase());\n\n    if (delegatingToValidGuardian) {\n      try {\n        guardianInfo = await guardiansService.readGuardianInfo(delegatorInfo.delegatedTo);\n      } catch (e) {\n        console.warn(`Failed reading guardian {${delegatorInfo.delegatedTo} info`);\n      }\n    } else {\n      console.warn(`Delegating to a non-guardian address of ${guardianAddress}`);\n    }\n\n    hasActiveDelegation = true;\n  }\n\n  return { delegatorInfo, guardianInfo, hasActiveDelegation, delegatingToValidGuardian };\n}\n\nconst fetchStakingInfo = async (address: string, stakingService: IStakingService) => {\n  const stakedOrbsInWeiOrbs = await stakingService.readStakeBalanceOf(address);\n  const fullStakedOrbs = fullOrbsFromWeiOrbs(stakedOrbsInWeiOrbs);\n  return {\n    stakedOrbs: fullStakedOrbs,\n  };\n};\n\nconst fetchRewardsSummary = async (address: string, remoteService: IRemoteService) => {\n  const rewardsSummary = await remoteService.getRewards(address);\n  return rewardsSummary;\n};\n\nexport const readCompleteDataForAddress = async (\n  address: string,\n  orbsRewardsService: IOrbsRewardsService,\n  remoteService: IRemoteService,\n  stakingService: IStakingService,\n  guardiansService: IGuardiansService,\n  validGuardianAddresses: string[],\n) => {\n  // console.log(JSON.stringify(validGuardianAddresses));\n  const rewardsHistory = await fetchRewardsHistory(address, orbsRewardsService);\n  const delegationAndGuardianInfo = await fetchDelegationAndGuardianInfo(\n    address,\n    remoteService,\n    guardiansService,\n    validGuardianAddresses,\n  );\n  const stakingInfo = await fetchStakingInfo(address, stakingService);\n  const rewardsSummary = await fetchRewardsSummary(address, remoteService);\n\n  const { hasActiveDelegation, guardianInfo, delegatorInfo, delegatingToValidGuardian } = delegationAndGuardianInfo;\n\n  const addressData: TCompleteAddressInfoForRewardsPage & { address: string } = {\n    address,\n    distributionsHistory: rewardsHistory,\n    delegatorInfo,\n    guardianInfo,\n    hasActiveDelegation,\n    delegatingToValidGuardian,\n    stakingInfo,\n    rewardsSummary,\n  };\n\n  return addressData;\n};\n","import { useBoolean, useStateful } from 'react-hanger';\nimport { useGuardiansService } from '../../services/ServicesHooks';\nimport { useGuardiansStore } from '../../Store/storeHooks';\nimport { useApi } from '../../services/ApiContext';\nimport { useEffect, useMemo } from 'react';\nimport {\n  emptyCompleteAddressInfoForRewardsPage,\n  readCompleteDataForAddress,\n  TCompleteAddressInfoForRewardsPage, TStakingInfo,\n  TUseCompleteAddressInfoForRewardsPage,\n} from './rewardsPageHooks';\nimport { useQuery } from 'react-query';\nimport { IDelegationInfo } from 'orbs-pos-data/dist/interfaces/IDelegationInfo';\nimport { TCurrentDelegationInfo, TRewardsSummary } from '../../services/IRemoteService';\nimport { IGuardianInfo, IRewardsDistributionEvent } from 'orbs-pos-data';\n\nexport const useCompleteAddressInfoForRewardsPageFromStaticData = (address) => {\n  const hasActiveDelegation = useHasActiveDelegation(address);\n  const delegatingToValidGuardian = useIsDelegatingToValidGuardian(address);\n  const delegatorInfo = useStaticDelegatorInfo(address);\n  const distributionHistory = useStaticDistributionHistory(address);\n  const guardianInfo = useStaticGuardianInfo(address);\n  const rewardsSummary = useStaticRewardsSummary(address);\n  const stakingInfo = useStaticStakingInfo(address);\n\n  const staticDataForAddress = useMemo(() => {\n    const clonedData: TCompleteAddressInfoForRewardsPage = { ...emptyCompleteAddressInfoForRewardsPage };\n\n    clonedData.hasActiveDelegation = hasActiveDelegation ?? false;\n    clonedData.delegatingToValidGuardian = delegatingToValidGuardian ?? false;\n    clonedData.delegatorInfo = delegatorInfo ? delegatorInfo : clonedData.delegatorInfo;\n    clonedData.distributionsHistory = distributionHistory ? distributionHistory : clonedData.distributionsHistory;\n    clonedData.guardianInfo = guardianInfo ? guardianInfo : clonedData.guardianInfo;\n    clonedData.rewardsSummary = rewardsSummary ? rewardsSummary : clonedData.rewardsSummary;\n    clonedData.stakingInfo = stakingInfo ? stakingInfo : clonedData.stakingInfo;\n\n    return clonedData;\n  }, [hasActiveDelegation, delegatingToValidGuardian, delegatorInfo, distributionHistory, guardianInfo, rewardsSummary, stakingInfo]);\n\n  return staticDataForAddress;\n};\n\nconst useHasActiveDelegation = (address: string) => {\n  const { isLoading, error, data } = useQuery('hasActiveDelegationSet', () =>\n    fetch('/staticRewardsData/hasActiveDelegationSet.json').then(async (res) => {\n      // console.log({ res });\n      const jsonRes = await res.json();\n      // console.log({jsonRes})\n\n      return jsonRes;\n    }),\n  );\n\n  if (error) {\n    console.error('Has error !' + error);\n  }\n\n  if (isLoading) {\n    // console.log('Hook is loading');\n    return null;\n  }\n\n  if (data) {\n    const addressesWithActiveDelegation: string[] = data;\n    // console.log('Has data');\n\n    if (addressesWithActiveDelegation.includes(address)) {\n      return true;\n    } else {\n      return false;\n    }\n  }\n};\n\nconst useIsDelegatingToValidGuardian = (address: string) => {\n  const { isLoading, error, data } = useQuery('delegatingToValidGuardianSet', () =>\n    fetch('/staticRewardsData/delegatingToValidGuardianSet.json').then(async (res) => {\n      // console.log({ res });\n      const jsonRes = await res.json();\n      // console.log({jsonRes})\n\n      return jsonRes;\n    }),\n  );\n\n  if (error) {\n    console.error('Has error !' + error);\n  }\n\n  if (isLoading) {\n    // console.log('Hook is loading');\n    return null;\n  }\n\n  if (data) {\n    const addressesWithDelegationToValidGuardian: string[] = data;\n    // console.log('Has data');\n\n    if (addressesWithDelegationToValidGuardian.includes(address)) {\n      return true;\n    } else {\n      return false;\n    }\n  }\n};\n\nconst useStaticDelegatorInfo = (address: string) => {\n  const { isLoading, error, data } = useQuery('delegatorInfoMap', () =>\n    fetch('/staticRewardsData/delegatorInfoMap.json').then(async (res) => {\n      // console.log({ res });\n      const jsonRes = await res.json();\n      // console.log({jsonRes})\n\n      return jsonRes;\n    }),\n  );\n\n  if (error) {\n    console.error('Has error !' + error);\n  }\n\n  if (isLoading) {\n    // console.log('Hook is loading');\n    return null;\n  }\n\n  if (data) {\n    const delegatorsInfoRecord: Record<string, TCurrentDelegationInfo> = data;\n    // console.log('Has data');\n\n    return delegatorsInfoRecord[address];\n  }\n};\n\nconst useStaticDistributionHistory = (address: string) => {\n  const { isLoading, error, data } = useQuery('distributionHistoryMap', () =>\n    fetch('/staticRewardsData/distributionHistoryMap.json').then(async (res) => {\n      // console.log({ res });\n      const jsonRes = await res.json();\n      // console.log({jsonRes})\n\n      return jsonRes;\n    }),\n  );\n\n  if (error) {\n    console.error('Has error !' + error);\n  }\n\n  if (isLoading) {\n    // console.log('Hook is loading');\n    return null;\n  }\n\n  if (data) {\n    const distributionHistoryRecord: Record<string, IRewardsDistributionEvent[]> = data;\n    // console.log('Has data');\n\n    return distributionHistoryRecord[address];\n  }\n};\n\nconst useStaticGuardianInfo = (address: string) => {\n  const { isLoading, error, data } = useQuery('guardianInfoMap', () =>\n    fetch('/staticRewardsData/guardianInfoMap.json').then(async (res) => {\n      // console.log({ res });\n      const jsonRes = await res.json();\n      // console.log({jsonRes})\n\n      return jsonRes;\n    }),\n  );\n\n  if (error) {\n    console.error('Has error !' + error);\n  }\n\n  if (isLoading) {\n    // console.log('Hook is loading');\n    return null;\n  }\n\n  if (data) {\n    const guardianInfoRecord: Record<string, IGuardianInfo> = data;\n    // console.log('Has data');\n\n    return guardianInfoRecord[address];\n  }\n};\n\nconst useStaticRewardsSummary = (address: string) => {\n  const { isLoading, error, data } = useQuery('rewardsSummaryMap', () =>\n    fetch('/staticRewardsData/rewardsSummaryMap.json').then(async (res) => {\n      // console.log({ res });\n      const jsonRes = await res.json();\n      // console.log({jsonRes})\n\n      return jsonRes;\n    }),\n  );\n\n  if (error) {\n    console.error('Has error !' + error);\n  }\n\n  if (isLoading) {\n    // console.log('Hook is loading');\n    return null;\n  }\n\n  if (data) {\n    const rewardsSummaryRecord: Record<string, TRewardsSummary> = data;\n    // console.log('Has data');\n\n    return rewardsSummaryRecord[address];\n  }\n};\n\nconst useStaticStakingInfo = (address: string) => {\n  const { isLoading, error, data } = useQuery('stakingInfoMap', () =>\n    fetch('/staticRewardsData/stakingInfoMap.json').then(async (res) => {\n      // console.log({ res });\n      const jsonRes = await res.json();\n      // console.log({jsonRes})\n\n      return jsonRes;\n    }),\n  );\n\n  if (error) {\n    console.error('Has error !' + error);\n  }\n\n  if (isLoading) {\n    // console.log('Hook is loading');\n    return null;\n  }\n\n  if (data) {\n    const stakingInfoRecord: Record<string, TStakingInfo> = data;\n    // console.log('Has data');\n\n    return stakingInfoRecord[address];\n  }\n};\n\n","/**\n * Copyright 2019 the orbs-ethereum-contracts authors\n * This file is part of the orbs-ethereum-contracts library in the Orbs project.\n *\n * This source code is licensed under the MIT license found in the LICENSE file in the root directory of this source tree.\n * The above notice should be included in all copies or substantial portions of the software.\n */\n\nimport React, { useCallback, useEffect, useState } from 'react';\nimport Button from '@material-ui/core/Button';\nimport FormControl from '@material-ui/core/FormControl';\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\nimport TextField from '@material-ui/core/TextField';\nimport Typography from '@material-ui/core/Typography';\nimport Alert from '@material-ui/lab/Alert';\nimport { useBoolean } from 'react-hanger';\nimport { useTranslation } from 'react-i18next';\nimport { useApi } from '../../services/ApiContext';\nimport { DelegationInfoTable } from './DelegationInfoTable';\nimport { RewardsTable } from './RewardsTable';\nimport { useQueryParam, StringParam } from 'use-query-params';\nimport { renderToString } from 'react-dom/server';\nimport { emptyCompleteAddressInfoForRewardsPage, useCompleteAddressInfoForRewardsPage } from './rewardsPageHooks';\nimport { observer } from 'mobx-react';\nimport { Page } from '../../components/structure/Page';\nimport { PageSection } from '../../components/structure/PageSection';\nimport { RewardsHistoryTable } from './RewardsHistoryTable';\nimport { useCompleteAddressInfoForRewardsPageFromStaticData } from './rewardsPageStaticHooks';\n\nconst useStyles = makeStyles((theme) => ({\n  form: {\n    display: 'flex',\n    flexDirection: 'row',\n    alignItems: 'baseline',\n    justifyContent: 'space-between',\n    flexWrap: 'wrap',\n    // width: '60%',\n  },\n  input: {\n    width: '30rem',\n    // flexGrow: 1,\n  },\n  submit: {\n    // marginLeft: 30,\n  },\n  section: {\n    marginTop: `${theme.spacing(8)}px`,\n  },\n  alert: {\n    maxWidth: '100%',\n  },\n}));\n\nconst EMPTY_ADDRESS = '0x0000000000000000000000000000000000000000';\n\n// TODO : C.F.H : We need to have the unstaked orbs balance (now, if thee address has no delgation, we will not get its balance neither)\n//  and then, we can add a flag of 'hasOrbs'\n\n// TODO : FUTURE : O.L : This type should be defined and taken from\n//  DEV_NOTE : There might be more possible values (for now we are just interested in whether it is delegated or not)\ntype TDelegationTypes = 'Not-Delegated' | 'Transfer';\nconst NOT_DELEGATED: TDelegationTypes = 'Not-Delegated';\n\nexport const RewardsPage = observer<React.FunctionComponent>(() => {\n  const classes = useStyles();\n  const { t } = useTranslation();\n  const theme = useTheme();\n\n  // Display flags\n  const showNoSelectedGuardianError = useBoolean(false);\n  const showDelegatingToANonGuardianAlert = useBoolean(false);\n  const showAddressNotParticipatingAlert = useBoolean(false);\n\n  // Page state\n  const [queryAddress, setQueryAddress] = useQueryParam('address', StringParam);\n\n  // Account in question state\n  // const isGuardian = guardiansStore.isGuardian(queryAddress || '');\n  const isGuardian = false;\n\n  // Form state & functions\n  const [formAddress, setFormAddress] = useState('');\n  const submitHandler = useCallback(async () => {\n    setQueryAddress(formAddress, 'pushIn');\n  }, [setQueryAddress, formAddress]);\n\n  // General Eco-system state & functions\n  // DEV_NOTE : HARD_CODED to the snapshot block\n  // TODO : ORL : Add this\n  const electionBlock = 11368900;\n\n  // Account specific State\n  // const completeAddressData = useCompleteAddressInfoForRewardsPage(queryAddress || undefined);\n  const completeAddressDataFromStatic = useCompleteAddressInfoForRewardsPageFromStaticData(queryAddress || undefined);\n\n  // Updates the form's address and the effective election block when query-address change\n  useEffect(() => {\n    async function asyncInnerFunction() {\n      if (!queryAddress) {\n        return;\n      }\n\n      setFormAddress(queryAddress);\n    }\n\n    asyncInnerFunction();\n  }, [queryAddress]);\n\n  // const { addressData, errorLoading } = completeAddressData;\n  const errorLoading = false;\n  const addressData = completeAddressDataFromStatic;\n  const {\n    stakingInfo,\n    distributionsHistory,\n    rewardsSummary,\n    delegatorInfo,\n    guardianInfo,\n    hasActiveDelegation,\n    delegatingToValidGuardian,\n  } = addressData;\n  const relevantGuardianInfo = isGuardian\n    ? // ? guardiansStore.guardiansList.find((g) => g.address.toLowerCase() === queryAddress?.toLowerCase())\n      guardianInfo\n    : guardianInfo;\n\n  const hasUnstakedOrbs = delegatorInfo.delegatorBalance > 0;\n  const hasStakedOrbs = stakingInfo.stakedOrbs > 0;\n  // DEV_NOTE : 'delegatorStakingInfo' requires being on the right network, 'delegatorInfo' does not, so for now we\n  //             will use them both as our flag\n  // const isDelegatedGuardianAddressValidByStakingInfo = stakingInfo.selectedGuardianAddress !== EMPTY_ADDRESS;\n  const isDelegatedGuardianAddressValidByDelegatorInfo = delegatorInfo.delegatedTo !== EMPTY_ADDRESS;\n  const isDelegatedGuardianAddressValid =\n    // isDelegatedGuardianAddressValidByStakingInfo || isDelegatedGuardianAddressValidByDelegatorInfo;\n    isDelegatedGuardianAddressValidByDelegatorInfo;\n\n  const hasDelegatedGuardian = delegatorInfo.delegationType !== NOT_DELEGATED;\n\n  const hasAddress = !!queryAddress;\n  const hasSelectedGuardian = hasDelegatedGuardian && isDelegatedGuardianAddressValid;\n  const isActiveInStaking = hasStakedOrbs && hasSelectedGuardian;\n\n  // Checks if any alerts should be displayed\n  // useEffect(() => {\n  //   if (!hasAddress) {\n  //     showNoSelectedGuardianError.setFalse();\n  //     showAddressNotParticipatingAlert.setFalse();\n  //\n  //     return;\n  //   }\n  //\n  //   // DEV_NOTE : O.L :  Guardians always have themselves as their selected Guardian.\n  //   // Do we have staked ORBS but no guardian selected ?\n  //   if (!isGuardian && hasStakedOrbs && !hasSelectedGuardian) {\n  //     showNoSelectedGuardianError.setTrue();\n  //   } else {\n  //     showNoSelectedGuardianError.setFalse();\n  //   }\n  //\n  //   // Do we have a selected guardian but we are not staking yet ?\n  //   if (!hasStakedOrbs && hasUnstakedOrbs) {\n  //     showAddressNotParticipatingAlert.setTrue();\n  //   } else {\n  //     showAddressNotParticipatingAlert.setFalse();\n  //   }\n  //\n  //   // Do we have d delegation to someone who is not a guardian ?\n  //   if (hasActiveDelegation && !delegatingToValidGuardian) {\n  //     showDelegatingToANonGuardianAlert.setTrue();\n  //   } else {\n  //     showDelegatingToANonGuardianAlert.setFalse();\n  //   }\n  // }, [\n  //   showNoSelectedGuardianError,\n  //   showAddressNotParticipatingAlert,\n  //   hasAddress,\n  //   hasStakedOrbs,\n  //   hasSelectedGuardian,\n  //   hasUnstakedOrbs,\n  //   isGuardian,\n  //   hasActiveDelegation,\n  //   delegatingToValidGuardian,\n  //   showDelegatingToANonGuardianAlert,\n  // ]);\n\n  const tetraUrl = 'https://staking.orbs.network';\n  const tetraV1Url = 'https://staking-v1.orbs.network';\n\n  // TODO : Find a better way to combine the translations with changing order links\n  const goToTetraLinkInnerHtml = t('action_goToTetra', {\n    tetraLink: renderToString(\n      <a style={{ color: 'inherit' }} target={'_blank'} rel={'noopener noreferrer'} href={tetraUrl}>\n        {t('text_tetraName')}\n      </a>,\n    ),\n  });\n\n  const stakeAndDelegateWithTetraLinkInnerHtml = t('action_youCanStakeYourORBSAndSelectAGuardianWithTetra', {\n    tetraLink: renderToString(\n      <a style={{ color: 'inherit' }} target={'_blank'} rel={'noopener noreferrer'} href={tetraUrl}>\n        {t('text_tetraName')}\n      </a>,\n    ),\n  });\n\n  const toChangeDelegationPleaseUseTetraV1InnerHtml = t('message_toChangeDelegationsUseV1Tetra', {\n    tetraLink: renderToString(\n      <a\n        style={{ color: theme.palette.secondary.main }}\n        target={'_blank'}\n        rel={'noopener noreferrer'}\n        href={tetraV1Url}\n      >\n        {t('concept_tetraV1')}\n      </a>,\n    ),\n  });\n\n  return (\n    <Page>\n      {/* Title & input */}\n      <PageSection>\n        <Typography variant='h2' component='h2' gutterBottom color='textPrimary'>\n          {t('Rewards & Delegation Info')}\n        </Typography>\n        <Typography variant='h4' component='h4' gutterBottom color='textPrimary'>\n          {/*{t('message_orbsWillTransitionToV2On')}*/}\n          {t('message_orbsHasTransitionedToV20On')}\n        </Typography>\n\n        <Typography variant='h5' component='h5' gutterBottom color='textPrimary'>\n          {t('message_thisPageDisplaysSnapshotData')}\n        </Typography>\n        {/* TODO : O.L : We might want to add a UX indicator that the account is a guardian */}\n        <FormControl className={classes.form} variant='standard' margin='normal'>\n          <TextField\n            required\n            className={classes.input}\n            placeholder={t('Enter the address')}\n            value={formAddress}\n            onChange={(ev) => setFormAddress(ev.target.value)}\n            label={'Address'}\n            margin='normal'\n            variant='standard'\n          />\n          <div className={classes.submit}>\n            <Button onClick={submitHandler} variant='outlined'>\n              {t('Submit')}\n            </Button>\n          </div>\n        </FormControl>\n      </PageSection>\n\n      {/*{showNoSelectedGuardianError.value && (*/}\n      {/*  <Alert className={classes.alert} severity='error'>*/}\n      {/*    <Typography>{t('alert_stakingWithoutGuardian')}</Typography> <br /> <br />{' '}*/}\n      {/*    <Typography dangerouslySetInnerHTML={{ __html: stakeAndDelegateWithTetraLinkInnerHtml }} />*/}\n      {/*  </Alert>*/}\n      {/*)}*/}\n\n      {/*{showDelegatingToANonGuardianAlert.value && (*/}\n      {/*  <Alert className={classes.alert} severity='error'>*/}\n      {/*    <Typography>{t('alert_delegatingToNonGuardian')}</Typography> <br /> <br />{' '}*/}\n      {/*    <Typography dangerouslySetInnerHTML={{ __html: stakeAndDelegateWithTetraLinkInnerHtml }} />*/}\n      {/*  </Alert>*/}\n      {/*)}*/}\n\n      {/*{showAddressNotParticipatingAlert.value && (*/}\n      {/*  <Alert className={classes.alert} severity='info'>*/}\n      {/*    <Typography>{t('alert_notParticipating')}</Typography> <br /> <br />{' '}*/}\n      {/*    <Typography dangerouslySetInnerHTML={{ __html: stakeAndDelegateWithTetraLinkInnerHtml }} />*/}\n      {/*  </Alert>*/}\n      {/*)}*/}\n\n      <br />\n\n      <PageSection>\n        <Typography variant='h4' component='h4' gutterBottom color='textPrimary'>\n          {t('Rewards')}\n        </Typography>\n        <RewardsTable rewardsSummary={rewardsSummary} />\n      </PageSection>\n\n      <br />\n\n      <PageSection>\n        <Typography variant='h4' component='h4' gutterBottom color='textPrimary'>\n          {t('Distributed')}\n        </Typography>\n        <br />\n        <RewardsHistoryTable distributionsHistory={distributionsHistory} />\n      </PageSection>\n\n      <br />\n\n      {/* TODO : Add a new section that is aimed for Guardians */}\n      <PageSection>\n        <Typography variant='h4' component='h4' gutterBottom color='textPrimary'>\n          {t('Delegation Details')}\n        </Typography>\n        <Typography\n          variant='h6'\n          component='h4'\n          gutterBottom\n          color='textPrimary'\n          dangerouslySetInnerHTML={{ __html: toChangeDelegationPleaseUseTetraV1InnerHtml }}\n        />\n        <DelegationInfoTable\n          delegatorAddress={queryAddress || ''}\n          delegatorStakingInfo={stakingInfo}\n          delegatorInfo={delegatorInfo}\n          guardianInfo={relevantGuardianInfo}\n          isAGuardian={isGuardian}\n        />\n      </PageSection>\n\n      <br />\n      <section className={classes.section}>\n        <Typography display={'inline'} variant='subtitle1' color='textSecondary'>\n          {'* '}\n          {t('The information above corresponds to elections at block number')}\n          {': '}\n        </Typography>\n        <Typography display={'inline'} variant='subtitle1' color='secondary'>\n          {electionBlock.toLocaleString()}\n        </Typography>\n      </section>\n    </Page>\n  );\n});\n","import { useApi } from '../../services/ApiContext';\nimport React, { useEffect, useMemo, useState } from 'react';\nimport { useSnackbar } from 'notistack';\nimport { Button } from '@material-ui/core';\nimport Link from '@material-ui/core/Link';\n\nconst actionBuilder = (closeSnackbar: (snackbarKey: any) => void) => (key: any) => (\n  <>\n    <Link href='https://metamask.io' target='_blank' rel='noreferrer'>\n      <b>Install Metamask</b>\n    </Link>\n    <Button onClick={() => closeSnackbar(key)}>X</Button>\n  </>\n);\n\nexport const useNoMetaMaskSnackbar = () => {\n  const { metamask } = useApi();\n  const hasMetamask = useMemo(() => !!metamask, [metamask]);\n  const [isNoMetamaskBannerOpen, setIsMetamaskBannerOpen] = useState(!hasMetamask);\n  const { enqueueSnackbar, closeSnackbar } = useSnackbar();\n\n  useEffect(() => {\n    if (isNoMetamaskBannerOpen) {\n      enqueueSnackbar(\n        'Attention! You are in Read Only mode. Please, install MetaMask extension to unlock full functionality.',\n        {\n          autoHideDuration: null,\n          variant: 'warning',\n          action: actionBuilder(closeSnackbar),\n        },\n      );\n    }\n  }, [closeSnackbar, enqueueSnackbar, isNoMetamaskBannerOpen]);\n};\n","/**\n * Copyright 2019 the orbs-ethereum-contracts authors\n * This file is part of the orbs-ethereum-contracts library in the Orbs project.\n *\n * This source code is licensed under the MIT license found in the LICENSE file in the root directory of this source tree.\n * The above notice should be included in all copies or substantial portions of the software.\n */\n\nimport { makeStyles, withStyles } from '@material-ui/core/styles';\nimport React from 'react';\nimport { Route, RouteProps, Switch } from 'react-router-dom';\nimport { DelegatorsPage } from '../../pages/DelegatorsPage/DelegatorsPage';\nimport { GuardiansPage } from '../Guardrians/GuardiansPage';\nimport { Home } from '../Home/Home';\nimport { NewGuardian } from '../NewGuardian/NewGuardian';\nimport { NewValidator } from '../NewValidator/NewValidator';\nimport { RewardsPage } from '../../pages/RewardsPage/RewardsPage';\nimport { ValidatorsPage } from '../../pages/ValidatorsPage/ValidatorsPage';\nimport { useNoMetaMaskSnackbar } from '../ReadOnlyBanner/readOnlyBannerHooks';\n\nconst useStyles = makeStyles((theme) => ({\n  content: {\n    // flexGrow: 1,\n    maxWidth: '90%',\n    boxSizing: 'border-box',\n    padding: theme.spacing(1),\n    // overflow: 'hidden',\n  },\n}));\n\nexport const Main = React.memo((props) => {\n  const classes = useStyles();\n  useNoMetaMaskSnackbar();\n  return (\n    <main className={classes.content} data-testid='main'>\n      <Switch>\n        {/*<Route exact path='/' component={Home} />*/}\n        <Route exact path='/' component={(props: RouteProps) => <RewardsPage {...props} />} />\n        {/*<Route exact path='/delegator' component={(props: RouteProps) => <DelegatorsPage />} />*/}\n        {/*<Route exact path='/guardian' component={(props: RouteProps) => <GuardiansPage {...props} />} />*/}\n        {/*<Route exact path='/validator' component={(props: RouteProps) => <ValidatorsPage {...props} />} />*/}\n        <Route exact path='/reward' component={(props: RouteProps) => <RewardsPage {...props} />} />\n        {/*<Route exact path='/guardian/new' component={(props: RouteProps) => <NewGuardian {...props} />} />*/}\n        {/*<Route exact path='/validator/new' component={(props: RouteProps) => <NewValidator {...props} />} />*/}\n      </Switch>\n    </main>\n  );\n});\n","/**\n * Copyright 2019 the orbs-ethereum-contracts authors\n * This file is part of the orbs-ethereum-contracts library in the Orbs project.\n *\n * This source code is licensed under the MIT license found in the LICENSE file in the root directory of this source tree.\n * The above notice should be included in all copies or substantial portions of the software.\n */\n\nimport React, { useEffect, useMemo, useState } from 'react';\nimport { QueryParamProvider } from 'use-query-params';\nimport { Route } from 'react-router-dom';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { LangRouter } from '../multi-lang/LangRouter';\nimport { resources } from '../../translations';\nimport { Header } from '../Header/Header';\nimport { Main } from '../Main/Main';\nimport { HEADER_HEIGHT_REM, ThemeProvider } from './ThemeProvider';\nimport { useNoMetaMaskSnackbar } from '../ReadOnlyBanner/readOnlyBannerHooks';\nimport { SnackbarProvider } from 'notistack';\n\nconst useStyles = makeStyles((theme) => ({\n  rootApp: {\n    backgroundColor: '#06142e',\n    backgroundRepeat: 'repeat-y',\n    backgroundImage: 'url(https://www.orbs.com/wp-content/uploads/2019/02/technology-background1.png)',\n    backgroundAttachment: 'scroll',\n    backgroundPosition: 'top center',\n    minHeight: `calc(100% - ${HEADER_HEIGHT_REM}rem)`,\n\n    // Center the content\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n  },\n  headerSeparator: {\n    height: `${HEADER_HEIGHT_REM}rem`,\n  },\n  glass: {\n    backgroundColor: 'black',\n    width: '100%',\n    height: '100%',\n    opacity: 0.7,\n    zIndex: 100000,\n    position: 'absolute' as any,\n    top: 0,\n    left: 0,\n  },\n  glassLabel: {\n    width: '100%',\n    height: '100%',\n    zIndex: 100001,\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center',\n    position: 'absolute' as any,\n    top: 0,\n    left: 0,\n  },\n  blurred: {\n    filter: 'blur(2px)',\n  },\n}));\n\nexport const App = React.memo((props) => {\n  const classes = useStyles();\n\n  return (\n    <LangRouter preLangBasename={process.env.PUBLIC_URL} resources={resources}>\n      <QueryParamProvider ReactRouterRoute={Route}>\n        <ThemeProvider>\n          <SnackbarProvider maxSnack={3}>\n            <CssBaseline />\n            <Header />\n            <div className={classes.headerSeparator} />\n            <div className={classes.rootApp} data-testid='container'>\n              <Main />\n            </div>\n          </SnackbarProvider>\n        </ThemeProvider>\n      </QueryParamProvider>\n    </LangRouter>\n  );\n});\n","import { IOrbsPosContractsAddresses } from 'orbs-pos-data';\n\n/**\n * Copyright 2019 the staking-dashboard authors\n * This file is part of the staking-dashboard library in the Orbs project.\n *\n * This source code is licensed under the MIT license found in the LICENSE file in the root directory of this source tree.\n * The above notice should be included in all copies or substantial portions of the software.\n */\ntype TSupportedNets = 'local' | 'ropsten' | 'mainnet';\n// @ts-ignore\nconst ethereumNetwork: TSupportedNets = process.env.REACT_APP_ETHEREUM_NETWORK;\n\nconst IS_DEV =\n  // @ts-ignore\n  process.env.NODE_ENV !== 'production' && process.env.NODE_ENV !== 'staging' && !process.env.REACT_APP_FORCE_PROD;\n\nconst SHOULD_OVERRIDE_WITH_LOCAL_ADDRESS = IS_DEV || ethereumNetwork === 'local';\n\n////////////// CONFIG VARIABLES ///////////////\n\n// Remote endpoint\nconst orbsAuditNodeEndpoint_dev = 'http://localhost:5678/api';\nconst orbsAuditNodeEndpoint_prod = 'https://orbs-voting-proxy-server.herokuapp.com/api';\n\n///////////////////////////////////////////////\n\nexport interface IConfig {\n  orbsAuditNodeEndpoint: string;\n  ETHEREUM_PROVIDER_WS: string;\n  contractsAddressesOverride: Partial<IOrbsPosContractsAddresses & { stakingContract: string }> | undefined;\n  v2ContractsAddressesOverride: {\n    stakingRewardsContactAddress?: string;\n  }\n  earliestBlockForDelegationOverride?: number;\n}\n\nconst contractsAddressesOverride: Partial<IOrbsPosContractsAddresses & { stakingContract: string }> | undefined = IS_DEV\n  ? {\n      stakingContract: '0x88287444f10709f9531D11e08DCd692deccd1d63', // ROPSTEN\n      erc20Contract: '0xeD0Aa9A4F9e5ae9092994f4B86F6AAa89944939b', // ROPSTEN\n      guardiansContract: '0x636315bcD912B1DbFe38E6b75f5B6AEE4Cd63B30', // ROPSTEN\n      votingContract: '0xF90a738CA659Fe99E357cB7F47Aaa5cB9b5724a2', // ROPSTEN\n    }\n  : undefined;\n\nconst configsObject: IConfig = {\n  orbsAuditNodeEndpoint: IS_DEV ? orbsAuditNodeEndpoint_dev : orbsAuditNodeEndpoint_prod,\n  ETHEREUM_PROVIDER_WS: 'wss://mainnet.infura.io/ws/v3/3fe9b03bd8374639809addf2164f7287',\n  contractsAddressesOverride,\n  // Only override in dev\n  earliestBlockForDelegationOverride: IS_DEV ? 0 : undefined,\n  v2ContractsAddressesOverride: {},\n};\n\nif (SHOULD_OVERRIDE_WITH_LOCAL_ADDRESS) {\n  const addresses = require('./local/addresses.json');\n\n  configsObject.v2ContractsAddressesOverride.stakingRewardsContactAddress = addresses.stakingRewards;\n}\n\nexport const configs: IConfig = configsObject;","import { Client, createAccount, NetworkType } from 'orbs-client-sdk';\nimport { LocalSigner } from 'orbs-client-sdk';\n\nconst ORBS_VIRTUAL_CHAIN_ID = 1_100_000; // The virtual chain Id on the Orbs network\nconst ORBS_NODE_ADDRESS = 'validator.orbs.com'; // The Orbs node that we will query\nconst PROTOCOL = 'https';\nconst ORBS_NODE_URL = `${PROTOCOL}://${ORBS_NODE_ADDRESS}/vchains/${ORBS_VIRTUAL_CHAIN_ID.toString()}`;\n\nexport function BuildOrbsClient(): Client {\n  const { publicKey, privateKey } = createAccount();\n  const signer = new LocalSigner({ publicKey, privateKey });\n  return new Client(ORBS_NODE_URL, ORBS_VIRTUAL_CHAIN_ID, NetworkType.NETWORK_TYPE_TEST_NET, signer);\n}\n","import axios from 'axios';\nimport { IRemoteService } from './IRemoteService';\n\nexport class RemoteService implements IRemoteService {\n  constructor(private remoteAddress: string) {}\n\n  private async callRemote(path: string, params?: any) {\n    const config = params ? { params } : undefined;\n    const res = await axios.get(`${this.remoteAddress}${path}`, config);\n    return res.data;\n  }\n\n  getGuardians() {\n    return this.callRemote('/guardians', { limit: 100, offset: 0 });\n  }\n\n  getGuardianData(address: string) {\n    return this.callRemote(`/guardians/${address}`);\n  }\n\n  getValidators() {\n    return this.callRemote(`/validators`);\n  }\n\n  getElectedValidators() {\n    return this.callRemote(`/validators/elected`);\n  }\n\n  getValidatorData(address: string) {\n    return this.callRemote(`/validators/${address}`);\n  }\n\n  getElectedValidatorData(address: string) {\n    return this.callRemote(`/validators/elected/${address}`);\n  }\n\n  getRewards(address: string) {\n    return this.callRemote(`/rewards/${address}`);\n  }\n\n  getRewardsHistory(address: string) {\n    return this.callRemote(`/rewards/history/${address}`);\n  }\n\n  getTotalParticipatingTokens() {\n    return this.callRemote(`/total-participating-tokens`);\n  }\n\n  getUpcomingElectionBlockNumber() {\n    return this.callRemote(`/elections/upcoming`);\n  }\n\n  getEffectiveElectionBlockNumber() {\n    return this.callRemote(`/elections/effective`);\n  }\n\n  getCurrentDelegation(address: string) {\n    return this.callRemote(`/delegation/status`, { address });\n  }\n\n  getCurrentDelegationInfo(address: string) {\n    return this.callRemote(`/delegation`, { address });\n  }\n}\n","/**\n * Copyright 2019 the orbs-ethereum-contracts authors\n * This file is part of the orbs-ethereum-contracts library in the Orbs project.\n *\n * This source code is licensed under the MIT license found in the LICENSE file in the root directory of this source tree.\n * The above notice should be included in all copies or substantial portions of the software.\n */\n\nimport Web3 from 'web3';\nimport { votingContractFactory, guardiansContractFactory, validatorsRegistryContractFactory } from './contracts';\nimport { Address4 } from 'ip-address';\nimport { IMetamask } from './IMetamask';\n\nconst ORB_ERC20_CONTRACT_ADDRESS = '0xff56cc6b1e6ded347aa0b7676c85ab0b3d08b0fa';\n\nexport class MetamaskService implements IMetamask {\n  private web3: Web3;\n  private validatorsRegistryContract;\n  private guardiansContract;\n  private votingContract;\n\n  constructor(web3: Web3) {\n    this.web3 = web3;\n    this.validatorsRegistryContract = validatorsRegistryContractFactory(this.web3);\n    this.guardiansContract = guardiansContractFactory(this.web3);\n    this.votingContract = votingContractFactory(this.web3);\n  }\n\n  async displayOrbsInMetamask(): Promise<void> {\n    (ethereum as any).sendAsync({\n      method: 'metamask_watchAsset',\n      params: {\n        type: 'ERC20',\n        options: {\n          symbol: 'ORBS',\n          address: ORB_ERC20_CONTRACT_ADDRESS,\n          decimals: 18,\n          image: 'https://s2.coinmarketcap.com/static/img/coins/64x64/3835.png',\n        },\n      },\n    });\n  }\n\n  private ipAddressToBytes(address: string) {\n    const formatted = new Address4(address).toHex();\n    return `0x${formatted.split(':').join('')}`;\n  }\n\n  private enableMetamask(): Promise<string> {\n    return ethereum.enable().then(\n      (addresses: string[]) => addresses[0],\n      (err: any) => Promise.reject(err),\n    );\n  }\n\n  isMainNet(): boolean {\n    return ethereum['networkVersion'] === '1';\n  }\n\n  getCurrentAddress(): Promise<string> {\n    return this.enableMetamask();\n  }\n\n  async delegate(candidate: string): Promise<any> {\n    const from = await this.enableMetamask();\n    return this.votingContract.methods.delegate(candidate).send({ from });\n  }\n\n  async voteOut(validators: string[]): Promise<any> {\n    const from = await this.enableMetamask();\n    return this.votingContract.methods.voteOut(validators).send({ from });\n  }\n\n  async registerGuardian(info): Promise<any> {\n    const { name, website } = info;\n    const from = await this.enableMetamask();\n    const requiredDeposit = await this.guardiansContract.methods.registrationDepositWei().call();\n    const isGuardian = await this.guardiansContract.methods.isGuardian(from).call({ from });\n    const method = isGuardian ? 'update' : 'register';\n    return this.guardiansContract.methods[method](name, website).send({\n      from,\n      value: requiredDeposit,\n    });\n  }\n\n  async registerValidator(info): Promise<any> {\n    const { name, ipAddress, website, orbsAddress } = info;\n    const from = await this.enableMetamask();\n    const ipHex = this.ipAddressToBytes(ipAddress);\n    const isValidator = await this.validatorsRegistryContract.methods.isValidator(from).call({ from });\n    const method = isValidator ? 'update' : 'register';\n    return this.validatorsRegistryContract.methods[method](name, ipHex, website, orbsAddress).send({ from });\n  }\n\n  async getLastVote(): Promise<any> {\n    const from = await this.enableMetamask();\n    return this.votingContract.methods.getCurrentVote(from).call({ from });\n  }\n}\n","import * as contractsInfo from '../contracts-info';\nimport votingContractJson from '../contracts/OrbsVoting.json';\nimport guardiansContractJson from '../contracts/OrbsGuardians.json';\nimport validatorsContractJson from '../contracts/OrbsValidators.json';\nimport validatorsRegistryContractJson from '../contracts/OrbsValidatorsRegistry.json';\n\nexport const validatorsContractFactory = web3 => {\n  return new web3.eth.Contract(\n    validatorsContractJson.abi as any,\n    window['__OrbsContractsInfo__']\n      ? window['__OrbsContractsInfo__']['OrbsValidators']['address']\n      : contractsInfo.EthereumValidatorsContract.address,\n  );\n};\n\nexport const validatorsRegistryContractFactory = web3 => {\n  return new web3.eth.Contract(\n    validatorsRegistryContractJson.abi as any,\n    window['__OrbsContractsInfo__']\n      ? window['__OrbsContractsInfo__']['OrbsValidatorsRegistry']['address']\n      : contractsInfo.EthereumValidatorsRegistryContract.address,\n  );\n};\n\nexport const guardiansContractFactory = web3 => {\n  return new web3.eth.Contract(\n    guardiansContractJson.abi as any,\n    window['__OrbsContractsInfo__']\n      ? window['__OrbsContractsInfo__']['OrbsGuardians']['address']\n      : contractsInfo.EthereumGuardiansContract.address,\n  );\n};\n\nexport const votingContractFactory = web3 => {\n  return new web3.eth.Contract(\n    votingContractJson.abi as any,\n    window['__OrbsContractsInfo__']\n      ? window['__OrbsContractsInfo__']['OrbsVoting']['address']\n      : contractsInfo.EthereumVotingContract.address,\n  );\n};\n","// import fetch from 'node-fetch';\nimport { retry } from 'ts-retry-promise';\nimport _ from 'lodash';\n\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport function errorString(e: any) {\n  return (e && e.stack) || '' + e;\n}\n\nexport function toNumber(val: number | string) {\n  if (typeof val == 'string') {\n    return parseInt(val);\n  } else return val;\n}\n\nexport function sleep(ms: number) {\n  return new Promise((resolve) => setTimeout(resolve, ms));\n}\n\n// returns UTC clock time in seconds (similar to unix timestamp / Ethereum block time / RefTime)\nexport function getCurrentClockTime() {\n  return Math.round(new Date().getTime() / 1000);\n}\n\nexport function isStaleTime(referenceTimeSeconds: number | string, differenceSeconds: number): boolean {\n  const currentTime = getCurrentClockTime();\n  if (_.isString(referenceTimeSeconds)) {\n    referenceTimeSeconds = Math.round(new Date(referenceTimeSeconds).valueOf() / 1000);\n  }\n  // @ts-ignore\n  return currentTime > referenceTimeSeconds + differenceSeconds;\n}\n\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport type JsonResponse = any;\n\n// TODO : FUTURE : O.L : Move this to http service\nexport async function fetchJson(url: string) {\n  return await retry(\n    async () => {\n      const response = await fetch(url);\n\n      // console.log({ response });\n      const body = await response.text();\n      // console.log('body', body);\n      try {\n        return JSON.parse(body);\n      } catch (e) {\n        throw new Error(`Invalid response for url '${url}': ${body}`);\n      }\n    },\n    { retries: 3, delay: 300 },\n  );\n}\n","export class SystemState {\n  TimeSeconds = 0; // UTC seconds\n  Timestamp: string = '';\n  VirtualChains: VirtualChain[] = [];\n  Services: Service[] = [];\n  CommitteeNodes: Guardians = {};\n  StandByNodes: Guardians = {};\n}\n\nexport enum HealthLevel {\n  Green = 'Green',\n  Yellow = 'Yellow',\n  Red = 'Red',\n}\n\nexport interface VirtualChain {\n  Id: string;\n  Name: string;\n  IsCertified: boolean;\n  IsCanary: boolean;\n  GenesisTimeSeconds: number;\n  ExpirationTimeSeconds: number;\n  SubscriptionStatus: HealthLevel;\n  SubscriptionStatusToolTip: string;\n  VirtualChainUrls: VirtualChainUrls;\n}\n\nexport interface VirtualChainUrls {\n  Prism: string;\n  Subscription: string;\n}\n\nexport class Service {\n  constructor(readonly Name: string, readonly ServiceUrlName: string, readonly RepositoryPrefix: string) {}\n  static VC = new Service('VC', 'vchains', 'https://github.com/orbs-network/orbs-network-go/tree/');\n  static Boyar = new Service('Boyar', 'boyar', 'https://github.com/orbs-network/boyarin/tree/');\n  static Signer = new Service('Signer', 'signer', 'https://github.com/orbs-network/signer-service/tree/');\n  static EthereumWriter = new Service(\n    'EthereumWriter',\n    'ethereum-writer',\n    'https://github.com/orbs-network/ethereum-writer/tree/',\n  );\n  static Rewards = new Service('Rewards', 'rewards-service', 'https://github.com/orbs-network/rewards-service/tree/');\n  static Management = new Service(\n    'Management',\n    'management-service',\n    'https://github.com/orbs-network/management-service/tree/',\n  );\n}\n\nexport interface Guardians {\n  [key: string]: Guardian;\n}\n/// C.F.G : Add 'RegistrationTime' to the procssor.\nexport interface Guardian {\n  EthAddress: string;\n  Name: string;\n  Ip: string;\n  Website: string;\n  EffectiveStake: number;\n  IsCertified: boolean;\n  OrbsAddress: string;\n  NodeManagementURL: string;\n  NodeVirtualChains: NodeVirtualChains;\n  NodeServices: NodeServices;\n  NodeReputation: NodeReputation;\n  RegistrationTime: number;\n  /**\n   * In Seconds\n   */\n  DistributionFrequency: number;\n  ParticipationPercentage: number;\n  /**\n   * Indicates how 'full' the guardian delegation is, under the requirement that he will hold a certain percent of its effective stake.\n   */\n  Capacity: number;\n  DelegatedStake: number;\n  SelfStake: number;\n}\n\nexport interface NodeServiceUrls {\n  Status: string;\n  Logs: string;\n  Version: string;\n}\n\nexport interface NodeVirtualChainUrls extends NodeServiceUrls {\n  Management: string;\n}\n\nexport interface NodeVirtualChains {\n  [key: string]: NodeVirtualChain;\n}\n\nexport interface NodeVirtualChain {\n  StatusMsg: string;\n  Status: HealthLevel;\n  StatusToolTip: string;\n  Timestamp: string;\n  Version: string;\n  BlockHeight: number;\n  BlockHeightToolTip: string;\n  ProtocolVersion: number;\n  URLs: NodeVirtualChainUrls;\n}\n\nexport function nodeVirtualChainBuilder(\n  urls: NodeVirtualChainUrls,\n  statusMsg: string = '',\n  status: HealthLevel = HealthLevel.Green,\n  statusTooltip: string = '',\n  timestamp: string = '',\n  version: string = '',\n  blockHeight: number = 0,\n  blockHeightToolTip: string = '',\n  protocolVersion: number = 0,\n): NodeVirtualChain {\n  return {\n    StatusMsg: statusMsg,\n    Status: status,\n    StatusToolTip: statusTooltip,\n    Timestamp: timestamp,\n    Version: version,\n    BlockHeight: blockHeight,\n    BlockHeightToolTip: blockHeightToolTip,\n    ProtocolVersion: protocolVersion,\n    URLs: urls,\n  };\n}\n\nexport interface NodeServices {\n  [key: string]: NodeService;\n}\n\nexport interface NodeService {\n  StatusMsg: string;\n  Status: HealthLevel;\n  StatusToolTip: string;\n  Timestamp: string;\n  Version: string;\n  URLs: NodeServiceUrls;\n}\n\nexport function nodeServiceBuilder(\n  urls: NodeServiceUrls,\n  statusMsg: string = '',\n  status: HealthLevel = HealthLevel.Green,\n  statusTooltip: string = '',\n  timestamp: string = '',\n  version: string = '',\n): NodeService {\n  return {\n    StatusMsg: statusMsg,\n    Status: status,\n    StatusToolTip: statusTooltip,\n    Timestamp: timestamp,\n    Version: version,\n    URLs: urls,\n  };\n}\n\nexport interface NodeReputation {\n  NodeVirtualChainReputations: NodeVirtualChainReputations;\n  NodeVirtualChainBadReputations: NodeVirtualChainBadReputations;\n  ReputationStatus: HealthLevel;\n  ReputationToolTip: string;\n}\n\nexport interface NodeVirtualChainReputations {\n  [key: string]: number;\n}\n\nexport interface NodeVirtualChainBadReputations {\n  [key: string]: number;\n}\n","import { VirtualChainUrls, NodeServiceUrls, NodeVirtualChainUrls, Service } from '../systemState';\n\nconst PrismSuffix = '.prism.orbs.network/';\nconst SubscriptionUiPrefix = 'subscription.orbs.network/vc/';\nexport function generateVirtualChainUrls(vcId: string): VirtualChainUrls {\n  return {\n    Prism: `https://${vcId}${PrismSuffix}`,\n    Subscription: `https://${SubscriptionUiPrefix}/${vcId}`,\n  };\n}\n\nexport const StatusSuffix = '/status';\nconst LogsSuffix = '/logs';\n\nexport function generateNodeVirtualChainUrls(ip: string, vcid: string): NodeVirtualChainUrls {\n  return {\n    Status: `http://${ip}/vchains/${vcid}${StatusSuffix}`,\n    Management: `http://${ip}:7666/vchains/${vcid}/management`,\n    Logs: `http://${ip}/vchains/${vcid}${LogsSuffix}`,\n    Version: '',\n  };\n}\n\nexport function generateNodeServiceUrls(ip: string, service: Service): NodeServiceUrls {\n  return {\n    Status: `http://${ip}/services/${service.ServiceUrlName}${StatusSuffix}`,\n    Logs: `http://${ip}/services/${service.ServiceUrlName}${LogsSuffix}`,\n    Version: '',\n  };\n}\n\nexport function updateNodeServiceUrlsWithVersion(urls: NodeServiceUrls, repoUrl: string, version: string) {\n  urls.Version = `${repoUrl}${version}`;\n}\n\nexport function generateNodeManagmentUrl(ip: string) {\n  return `http://${ip}:7666/node/management`;\n}\n","import _ from 'lodash';\n// import { fetchJson, isStaleTime, getCurrentClockTime } from '../helpers';\nimport { SystemState, VirtualChain, Service, Guardians, HealthLevel, Guardian } from '../systemState';\nimport { getCurrentClockTime, isStaleTime } from './helpers';\nimport { generateNodeManagmentUrl, generateVirtualChainUrls } from './url-generator';\nimport { IManagementStatusResponse, IGuardianData, ICommitteeEvent } from './RootNodeData';\n\n// DEV_NOTE : IMPORTANT: O.L : This file is taken from the 'Status-page' backend, we should unite them\n// TODO : Extract the functionality to a library.\nexport enum NetworkType {\n  Public = 'public',\n  Private = 'private',\n}\n\ninterface Configuration {\n  Port: number;\n  ProcessorPollTimeSeconds: number;\n  NetworkType: NetworkType;\n  RootNodeEndpoint: string;\n  StaleStatusTimeSeconds: number;\n  ExpirationWarningTimeInDays: number;\n}\n\nconst defaultConfiguration = {\n  Port: 80,\n  ProcessorPollTimeSeconds: 5 * 60,\n  NetworkType: NetworkType.Public,\n  RootNodeEndpoint: 'http://34.255.138.28',\n  StaleStatusTimeSeconds: 15 * 60,\n  ExpirationWarningTimeInDays: 30,\n};\n\nexport function updateSystemState(\n  systemState: SystemState,\n  rootNodeData: IManagementStatusResponse,\n  currentTimestamp: number,\n) {\n  // const rootNodeData = await fetchJson(`${config.RootNodeEndpoint}${ManagementStatusSuffix}`);\n\n  const virtualChainList = readVirtualChains(rootNodeData, defaultConfiguration);\n  if (_.size(virtualChainList) === 0) {\n    console.error(`Could not read valid Virtual Chains, current network seems not to be running any.`);\n  }\n\n  const services = [\n    // choose the services that exist in a public network\n    Service.Boyar,\n    Service.Signer,\n    Service.Management,\n    Service.EthereumWriter,\n    Service.Rewards,\n  ];\n\n  const guardians = extractGuardians(rootNodeData, currentTimestamp);\n  const committeeMembersAddresses = _.map(rootNodeData.Payload.CurrentCommittee, 'EthAddress');\n  const committeeMembers = _.pick(guardians, committeeMembersAddresses);\n  if (_.size(committeeMembers) === 0) {\n    console.error(`Could not read a valid Committee, current network seems empty.`);\n  }\n  const standbyMembersAddresses = _.map(\n    _.filter(rootNodeData.Payload.CurrentCandidates, (data) => data.IsStandby),\n    'EthAddress',\n  );\n  const standByMembers = _.pick(guardians, standbyMembersAddresses);\n\n  systemState.TimeSeconds = getCurrentClockTime();\n  systemState.Timestamp = new Date().toISOString();\n  systemState.VirtualChains = virtualChainList;\n  systemState.Services = services;\n  systemState.CommitteeNodes = committeeMembers;\n  systemState.StandByNodes = standByMembers;\n}\n\nfunction readVirtualChains(rootNodeData: IManagementStatusResponse, config: Configuration): VirtualChain[] {\n  return _.map(rootNodeData.Payload.CurrentVirtualChains, (vcData, vcId) => {\n    const expirationTime = _.isNumber(vcData.Expiration) ? vcData.Expiration : -1;\n    let healthLevel = HealthLevel.Green;\n    let healthLevelToolTip = '';\n    if (expirationTime > 0) {\n      if (getCurrentClockTime() > expirationTime - config.ExpirationWarningTimeInDays * 24 * 60 * 60) {\n        healthLevel = HealthLevel.Yellow;\n        healthLevelToolTip = `VirtualChain will expire in less than ${config.ExpirationWarningTimeInDays} days.`;\n      } else if (isStaleTime(expirationTime, 0)) {\n        healthLevel = HealthLevel.Red;\n        healthLevelToolTip = 'VirtualChain expired.';\n      }\n    }\n    return {\n      Id: vcId,\n      Name: _.isString(vcData.Name) ? vcData.Name : '',\n      IsCanary: _.isString(vcData.RolloutGroup) ? vcData.RolloutGroup != 'main' : false,\n      IsCertified: _.isNumber(vcData.IdentityType) ? vcData.IdentityType === 1 : false,\n      GenesisTimeSeconds: _.isNumber(vcData.GenesisRefTime) ? vcData.GenesisRefTime : 0,\n      ExpirationTimeSeconds: expirationTime,\n      SubscriptionStatus: healthLevel,\n      SubscriptionStatusToolTip: healthLevelToolTip,\n      VirtualChainUrls: generateVirtualChainUrls(vcId),\n    };\n  });\n}\n\nfunction extractGuardians(rootNodeData: IManagementStatusResponse, currentTimestamp: number): Guardian[] {\n  // DEV_NOTE : O.L : The \"mapValues\" dose not return an array, fix this if we decide to keep the Guardian table here\n  // @ts-ignore\n  return _.mapValues(rootNodeData.Payload.Guardians, (guardianData: IGuardianData) => {\n    const ip = _.isString(guardianData.Ip) ? guardianData.Ip : '';\n    const guardian: Guardian = {\n      EthAddress: ensureAddressStartsWithPrefix(guardianData.EthAddress),\n      Name: _.isString(guardianData.Name) ? guardianData.Name : '',\n      Ip: ip,\n      Website: _.isString(guardianData.Website) ? guardianData.Website : '',\n      EffectiveStake: _.isNumber(guardianData.EffectiveStake) ? guardianData.EffectiveStake : 1,\n      IsCertified: _.isNumber(guardianData.IdentityType) ? guardianData.IdentityType === 1 : false,\n      OrbsAddress: _.isString(guardianData.OrbsAddress) ? guardianData.OrbsAddress : '',\n      NodeManagementURL: generateNodeManagmentUrl(ip),\n      NodeVirtualChains: {},\n      NodeServices: {},\n      NodeReputation: {\n        NodeVirtualChainReputations: {},\n        NodeVirtualChainBadReputations: {},\n        ReputationStatus: HealthLevel.Green,\n        ReputationToolTip: '',\n      },\n      RegistrationTime: guardianData.RegistrationTime,\n      DistributionFrequency: extractDistributionFrequency(guardianData),\n      // ParticipationPercentage: 0,\n      ParticipationPercentage: calculateParticipationPercentage(\n        guardianData.EthAddress,\n        rootNodeData.Payload.CommitteeEvents,\n        currentTimestamp,\n      ),\n      Capacity: calculateCapacity(guardianData),\n      DelegatedStake: guardianData.DelegatedStake,\n      SelfStake: guardianData.SelfStake,\n    };\n\n    return guardian;\n  });\n}\n\nfunction ensureAddressStartsWithPrefix(ethAddress: string) {\n  const prefix = '0x';\n  if (ethAddress.startsWith(prefix)) {\n    return ethAddress;\n  } else {\n    return `${prefix}${ethAddress}`;\n  }\n}\n\nfunction extractDistributionFrequency(guardianData: IGuardianData): number {\n  // TODO : ORL : Read these constants from a better place that will get updted.\n  const DEFAULT_DISTRIBUTION_FREQUENCY = 60 * 60 * 24 * 14; // 14 days in seconds\n  const REWARDS_DISTRIBUTION_KEY = 'REWARDS_FREQUENCY_SEC';\n\n  const manuallySetValue = guardianData.Metadata[REWARDS_DISTRIBUTION_KEY];\n  return manuallySetValue ? manuallySetValue : DEFAULT_DISTRIBUTION_FREQUENCY;\n}\n\nfunction calculateParticipationPercentage(\n  guardianAddress: string,\n  committeeEvents: ICommitteeEvent[],\n  currentTimestamp: number,\n): number {\n  // DEV_NOTE : O.L : Filtering for 30 days is just a prod decision.\n  const TIME_RANGE_IN_SECONDS = 60 * 60 * 24 * 30;\n  const earliestRefTime = currentTimestamp - TIME_RANGE_IN_SECONDS;\n  const eventsFromLast30Days = committeeEvents.filter((committeeEvent) => committeeEvent.RefTime >= earliestRefTime);\n\n  const firstEvent = eventsFromLast30Days[0];\n\n  const lastEvent = eventsFromLast30Days[eventsFromLast30Days.length - 1];\n  const totalTime = lastEvent.RefTime - firstEvent.RefTime;\n  let participationTime = 0;\n\n  // DEV_NOTE : We start with 1 as we start the period between events\n  for (let i = 1; i < eventsFromLast30Days.length; i++) {\n    const committeeEvent = eventsFromLast30Days[i];\n\n    if (\n      committeeEvent.Committee.map((committeeMember) => committeeMember.EthAddress.toLowerCase()).includes(\n        guardianAddress.toLowerCase(),\n      )\n    ) {\n      const previousCommitteeEvent = eventsFromLast30Days[i - 1];\n      const period = committeeEvent.RefTime - previousCommitteeEvent.RefTime;\n      participationTime += period;\n    }\n  }\n\n  const participationPercentage = (participationTime / totalTime) * 100;\n  const roundedNumber = +participationPercentage.toFixed(2);\n  return roundedNumber;\n}\n\nfunction calculateCapacity(guardianData: IGuardianData): number {\n  // TODO : ORL : Move to proper constants config.\n  const MIN_SELF_STAKE_PERCENTAGE = 8;\n\n  const capacity = guardianData.DelegatedStake / (guardianData.SelfStake / MIN_SELF_STAKE_PERCENTAGE);\n\n  return capacity;\n}\n","import { IOrbsNodeService } from './IOrbsNodeService';\nimport Web3 from 'web3';\nimport { fetchJson } from './nodeResponseProcessing/helpers';\nimport { SystemState } from './systemState';\nimport { updateSystemState } from './nodeResponseProcessing/processor-public';\nimport { ICommitteeMemberData, IReadAndProcessResults } from './OrbsNodeTypes';\nimport { IManagementStatusResponse } from './nodeResponseProcessing/RootNodeData';\nimport { IEthereumWriterStatusResponse } from './nodeResponseProcessing/EthereumWriterStatusResponse';\nimport Moment from 'moment';\n\n// const MAIN_NET_DEFAULT_NODE_URL = 'http://34.255.138.28';\nconst MAIN_NET_DEFAULT_NODE_URL = 'https://guardian.v2beta.orbs.com';\nconst ManagementStatusSuffix = '/services/management-service/status';\nconst EthereumWriterStatusSuffix = '/services/ethereum-writer/status';\n\n// TODO : O.L : Consider using httpService\nexport class OrbsNodeService implements IOrbsNodeService {\n  constructor(private defaultNodeUrl: string = MAIN_NET_DEFAULT_NODE_URL) {}\n\n  public get defaultNodeAddress(): string {\n    return this.defaultNodeUrl;\n  }\n\n  async checkIfDefaultNodeIsInSync(): Promise<boolean> {\n    return this.checkIfNodeIsInSync(this.defaultNodeUrl);\n  }\n\n  async checkIfNodeIsInSync(nodeAddress: string): Promise<boolean> {\n    try {\n      const managementStatusResponse: IManagementStatusResponse = await this.fetchNodeManagementStatus(nodeAddress);\n      const ethereumWriterStatusResponse: IEthereumWriterStatusResponse = await this.fetchNodeEthereumWriterStatus(\n        nodeAddress,\n      );\n\n      const isEthereumWriterInSync = ethereumWriterStatusResponse.Payload.VchainSyncStatus === 'in-sync';\n\n      const currentTimestamp = Moment().unix();\n\n      const ACCEPTED_RANGE_IN_SECONDS = 60 * 60; // 60 minutes\n      const earliestAcceptedTimestamp = currentTimestamp - ACCEPTED_RANGE_IN_SECONDS;\n\n      const nodeRefTime = managementStatusResponse.Payload.CurrentRefTime;\n      const isManagementServiceReferenceFresh = nodeRefTime >= earliestAcceptedTimestamp;\n\n      const isNodeInSync = isManagementServiceReferenceFresh && isEthereumWriterInSync;\n\n      return isNodeInSync;\n    } catch (e) {\n      console.error(`Error while getting node ${nodeAddress} status: ${e}`);\n      return false;\n    }\n  }\n\n  async readAndProcessSystemState(nodeAddress?: string): Promise<IReadAndProcessResults> {\n    const nodeUrl = nodeAddress || this.defaultNodeUrl;\n    const systemState = new SystemState();\n\n    const managementStatusResponse = await this.fetchNodeManagementStatus(nodeUrl);\n\n    const currentTimeStamp = Math.floor(Date.now() / 1000);\n    updateSystemState(systemState, managementStatusResponse, currentTimeStamp);\n\n    return {\n      systemState,\n      committeeMembers: managementStatusResponse.Payload.CurrentCommittee,\n    };\n  }\n\n  private async fetchNodeManagementStatus(nodeAddress: string): Promise<IManagementStatusResponse> {\n    const managementStatusResponse: IManagementStatusResponse = await fetchJson(\n      `${nodeAddress}${ManagementStatusSuffix}`,\n    );\n    return managementStatusResponse;\n  }\n\n  private async fetchNodeEthereumWriterStatus(nodeAddress: string): Promise<IEthereumWriterStatusResponse> {\n    const ethereumWriterStatusResponse: IEthereumWriterStatusResponse = await fetchJson(\n      `${nodeAddress}${EthereumWriterStatusSuffix}`,\n    );\n    return ethereumWriterStatusResponse;\n  }\n}\n","import { configure } from 'mobx';\nimport { IStores } from './stores';\n\n// This import ensures mobx batching\nimport 'mobx-react-lite/batchingForReactDom';\nimport { IGuardiansService } from 'orbs-pos-data';\nimport { GuardiansStore } from './GuardiansStore';\nimport { IOrbsNodeService } from '../services/v2/orbsNodeService/IOrbsNodeService';\nimport { OrbsNodeStore } from './OrbsNodeStore';\n\n/**\n * Configures the mobx library. Should get called at App's initialization.\n */\nexport function configureMobx() {\n  configure({\n    enforceActions: 'observed',\n  });\n}\n\n/**\n * Builds and initializes all of the stores\n */\nexport function getStores(guardiansService: IGuardiansService, orbsNodeService: IOrbsNodeService): IStores {\n  // Create stores instances + Hydrate the stores\n\n  const stores: IStores = {\n    // guardiansStore: new GuardiansStore(guardiansService),\n    // orbsNodeStore: new OrbsNodeStore(orbsNodeService),\n  };\n\n  // TODO : O.L : add proper handling of errors here\n  // stores.guardiansStore.init();\n\n  return stores;\n}\n","import React from 'react';\nimport { App } from './App';\nimport { configs } from '../../config';\nimport { configureMobx, getStores } from '../../Store/storesInitialization';\nimport { buildServices } from '../../services/Services';\nimport Web3 from 'web3';\nimport { Provider } from 'mobx-react';\nimport { ApiContext } from '../../services/ApiContext';\nimport { StylesProvider, ThemeProvider } from '@material-ui/core/styles';\nimport { SnackbarProvider } from 'notistack';\nimport { queryCache, ReactQueryCacheProvider } from 'react-query';\n\nconfigureMobx();\n\nlet web3: Web3;\n\nconst ethereumProvider = window.ethereum;\n\nif (ethereumProvider) {\n  web3 = new Web3(ethereumProvider as any);\n} else {\n  web3 = new Web3(new Web3.providers.WebsocketProvider(configs.ETHEREUM_PROVIDER_WS));\n}\n\nconst services = buildServices(web3, ethereumProvider);\nconst { orbsRewardsService, metamask, remoteService, guardiansService, stakingService, orbsNodeService } = services;\nconst stores = getStores(guardiansService, orbsNodeService);\n\nexport const AppWrapper = React.memo((props) => {\n  return (\n    <ReactQueryCacheProvider queryCache={queryCache}>\n    <Provider {...services} {...stores}>\n      <ApiContext.Provider value={{ remoteService, metamask, stakingService, guardiansService, orbsRewardsService }}>\n        <StylesProvider injectFirst>\n          <App />\n        </StylesProvider>\n      </ApiContext.Provider>\n    </Provider>\n    </ReactQueryCacheProvider>\n  );\n});\n","// DEV_NOTE : This file will handle the \"well-designed\" services, all of the other services will be eventually added to here.\n\nimport {\n  GuardiansService,\n  IGuardiansService,\n  IOrbsClientService,\n  IOrbsRewardsService,\n  IStakingService,\n  OrbsClientService,\n  OrbsRewardsService,\n  StakingService,\n} from 'orbs-pos-data';\nimport Web3 from 'web3';\nimport { BuildOrbsClient } from './OrbsClientFactory';\nimport { IRemoteService } from './IRemoteService';\nimport { RemoteService } from './RemoteService';\nimport { configs } from '../config';\nimport { MetamaskService } from './MetamaskService';\nimport { IMetamask } from './IMetamask';\nimport { IOrbsNodeService } from './v2/orbsNodeService/IOrbsNodeService';\nimport { OrbsNodeService } from './v2/orbsNodeService/OrbsNodeService';\nimport { IStakingRewardsService, StakingRewardsService } from '@orbs-network/contracts-js';\n\nexport interface IServices {\n  remoteService: IRemoteService;\n  guardiansService: IGuardiansService;\n  metamask?: IMetamask;\n  stakingService: IStakingService;\n  orbsRewardsService: IOrbsRewardsService;\n  stakingRewardsService: IStakingRewardsService;\n  orbsNodeService: IOrbsNodeService;\n}\n\nexport function buildServices(web3: Web3, ethereumProvider: any): IServices {\n  const remoteService: IRemoteService = new RemoteService(configs.orbsAuditNodeEndpoint);\n  // TODO : FUTURE: O.L : This method of signaling no meta-mask is too fragile and unclear, change it to be like staking wallet\n  const metamask = ethereumProvider ? new MetamaskService(web3) : undefined;\n  const stakingService = new StakingService(web3, configs?.contractsAddressesOverride?.stakingContract);\n  const orbsClient = BuildOrbsClient();\n  const orbsClientService: IOrbsClientService = new OrbsClientService(orbsClient);\n  const orbsRewardsService: IOrbsRewardsService = new OrbsRewardsService(web3, orbsClientService);\n  const guardiansService = new GuardiansService(\n    web3,\n    orbsClientService,\n    configs?.contractsAddressesOverride,\n    configs.earliestBlockForDelegationOverride\n      ? {\n          earliestBlockForDelegation: configs.earliestBlockForDelegationOverride,\n        }\n      : undefined,\n  );\n\n  const services: IServices = {\n    guardiansService,\n    remoteService,\n    metamask,\n    stakingService,\n    orbsRewardsService,\n    orbsNodeService: new OrbsNodeService(),\n    // @ts-ignore\n    stakingRewardsService: new StakingRewardsService(web3, configs.v2ContractsAddressesOverride.stakingRewardsContactAddress),\n  };\n\n  return services;\n}\n","/**\n * Copyright 2019 the orbs-ethereum-contracts authors\n * This file is part of the orbs-ethereum-contracts library in the Orbs project.\n *\n * This source code is licensed under the MIT license found in the LICENSE file in the root directory of this source tree.\n * The above notice should be included in all copies or substantial portions of the software.\n */\n\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport { AppWrapper } from './components/App/AppWrapper';\nimport './index.css';\n\nReactDOM.render(<AppWrapper />, document.getElementById('root'));\n","/**\n * Copyright 2019 the orbs-ethereum-contracts authors\n * This file is part of the orbs-ethereum-contracts library in the Orbs project.\n *\n * This source code is licensed under the MIT license found in the LICENSE file in the root directory of this source tree.\n * The above notice should be included in all copies or substantial portions of the software.\n */\n\nmodule.exports = {\n  EthereumGuardiansContract: {\n    address: '0xD64B1BF6fCAb5ADD75041C89F61816c2B3d5E711'\n  },\n  EthereumValidatorsContract: {\n    address: '0x240fAa45557c61B6959162660E324Bb90984F00f'\n  },\n  EthereumValidatorsRegistryContract: {\n    address: '0x56A6895FD37f358c17cbb3F14A864ea5Fe871F0a'\n  },\n  EthereumVotingContract: {\n    address: '0x30f855afb78758Aa4C2dc706fb0fA3A98c865d2d'\n  },\n  OrbsVotingContract: {\n    name: '_Elections'\n  }\n};\n"],"sourceRoot":""}